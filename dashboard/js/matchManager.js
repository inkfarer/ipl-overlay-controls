(()=>{var e,t={7476:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"chevron-left",icon:[320,512,[],"f053","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"]},t.A3=t.DF},5220:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]},t._t=t.DF},7975:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"minus",icon:[448,512,[],"f068","M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},t.Kl=t.DF},2716:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},t.r8=t.DF},4847:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},t.NB=t.DF},8337:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var a=o(2609),l=o.n(a)()((function(e){return e[1]}));l.push([e.id,"span.team-name[data-v-1eaa94a2]{align-self:flex-end}.color-display[data-v-1eaa94a2]{width:100%;height:18px;padding:2px 4px;border-radius:3px;transition-duration:250ms}.color-toggle-container .ipl-button[data-v-1eaa94a2]{width:auto;flex-grow:1}.color-toggle[data-v-1eaa94a2]{width:68px;background-color:#2f3a4f;border-radius:5px;transition-duration:100ms;padding:6px;cursor:pointer}.color-toggle[data-v-1eaa94a2]:not(.disabled):hover{background-color:#3c4b66}.color-toggle[data-v-1eaa94a2]:not(.disabled):active{background-color:#334057}.color-toggle.disabled[data-v-1eaa94a2]{background-color:#181e29;pointer-events:none;color:#a9aaa9}.color-toggle.disabled .color[data-v-1eaa94a2]{filter:contrast(0.25)}.color-toggle .color[data-v-1eaa94a2]{width:20px;border-style:solid;border-width:2px;height:20px;border-radius:50%;margin:1px;pointer-events:none;transition-duration:250ms}.color-toggle .icon-right[data-v-1eaa94a2]{margin-left:4px;pointer-events:none}.color-toggle .icon-left[data-v-1eaa94a2]{margin-right:4px;pointer-events:none}",""]);const n=l},3751:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var a=o(2609),l=o.n(a)()((function(e){return e[1]}));l.push([e.id,".colors-container[data-v-50c6ac87]{max-height:180px;overflow:auto}.color-option[data-v-50c6ac87]{width:auto;margin:8px 0;background-color:#2f3a4f;border-radius:5px;padding:6px 10px;cursor:pointer;transition-duration:100ms}.color-option.is-selected[data-v-50c6ac87]{background-color:#6155bd}.color-option.is-selected[data-v-50c6ac87]:hover{background-color:#574caa}.color-option.is-selected[data-v-50c6ac87]:active{background-color:#4e4497}.color-option[data-v-50c6ac87]:not(.is-selected):hover{background-color:#3c4b66}.color-option[data-v-50c6ac87]:not(.is-selected):active{background-color:#334057}.color-option .color-previews[data-v-50c6ac87]{pointer-events:none}.color-option .color-preview[data-v-50c6ac87]{width:20px;border-style:solid;border-width:2px;height:20px;border-radius:50%;margin:1px;pointer-events:none;transition-duration:250ms}",""]);const n=l},3973:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var a=o(2609),l=o.n(a)()((function(e){return e[1]}));l.push([e.id,".score-wrapper[data-v-3d6c6ccb]{width:60px;font-size:3.25em;font-weight:500}.score-wrapper.right[data-v-3d6c6ccb]{margin-right:4px}.score-wrapper.left[data-v-3d6c6ccb]{margin-left:4px}.score-wrapper span[data-v-3d6c6ccb]{user-select:none}.ipl-space.score-display-space[data-v-3d6c6ccb]{padding:4px}.score-separator[data-v-3d6c6ccb]{font-size:2.75em;margin:-5px 6px 0;font-weight:900;user-select:none}",""]);const n=l},7286:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var a=o(2609),l=o.n(a)()((function(e){return e[1]}));l.push([e.id,".no-winner-button[data-v-60df6046]{height:32px !important;padding-top:3px !important;transition-duration:250ms}.set-number[data-v-60df6046]{user-select:none}.color-editor-toggles[data-v-60df6046]{width:75%;margin-left:10px}.winner-selection[data-v-60df6046]{min-width:88px}.winner-selection .ipl-button[data-v-60df6046]{min-width:40px;height:32px;font-size:1.5em;font-weight:bold;padding:3px 0 0;transition-duration:250ms}.winner-selection .ipl-button[data-v-60df6046]:first-child{border-radius:5px 0 0 5px}.winner-selection .ipl-button[data-v-60df6046]:last-child{border-radius:0 5px 5px 0}.game-editor[data-v-60df6046]{border-radius:5px;transition-duration:250ms;padding:2px 6px}.game-editor.is-next-game[data-v-60df6046]{background-color:#2f3a4f;padding:4px 6px}",""]);const n=l},4432:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var a=o(2609),l=o.n(a)()((function(e){return e[1]}));l.push([e.id,".custom-color-select input{margin:0;height:34px !important}",""]);const n=l},5455:(e,t,o)=>{var a=o(6411),l=o(940),n=o(9631),r=o(6152),s=o(7878),i=o(3226),c=o(6001),d=o(7598),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||i(e)||d(e)||n(e)))return!e.length;var t=l(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!a(e).length;for(var o in e)if(u.call(e,o))return!1;return!0}},6974:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},5648:(e,t,o)=>{var a=o(1054),l=o(1704),n=o(3895),r=o(768),s=o(1821),i=o(8435),c=o(6188);e.exports=function(e,t,o){if((e=c(e))&&(o||void 0===t))return l(e);if(!e||!(t=a(t)))return e;var d=i(e),u=i(t),m=s(d,u),p=r(d,u)+1;return n(d,m,p).join("")}},3228:(e,t,o)=>{"use strict";o(223);var a=o(225),l=o(7875);const n={class:"layout horizontal"},r={class:"max-width"},s={key:0,class:"layout horizontal m-b-8"};var i=o(641),c=o(349);const d={class:"layout vertical"},u={class:"layout horizontal center-horizontal center-vertical score-wrapper left"},m={class:"score"},p=(e=>((0,l.dD)("data-v-3d6c6ccb"),e=e(),(0,l.Cn)(),e))((()=>(0,l._)("span",{class:"score-separator"},":",-1))),v={class:"layout horizontal center-horizontal center-vertical score-wrapper right"},g={class:"score"},h={class:"layout vertical"};var C=o(8127),b=o(8751),w=o(2716),f=o(7975),x=o(243),y=o(9850),I=o.n(y);const A=nodecg.Replicant("activeRound"),B=nodecg.Replicant("swapColorsInternally"),S=[A,B],N=(0,x.MT)({state:{activeRound:null,swapColorsInternally:null},mutations:{setState(e,{name:t,val:o}){this.state[t]=I()(o)}},actions:{setWinner(e,{winner:t}){nodecg.sendMessage("setWinner",{winner:t})},removeWinner(){nodecg.sendMessage("removeWinner")},setActiveColor(e,t){nodecg.sendMessage("setActiveColor",t)},swapColors(){B.value=!B.value},setWinnerForIndex(e,{index:t,winner:o}){nodecg.sendMessage("setWinner",{winner:o,roundIndex:t})},resetActiveRound(){nodecg.sendMessage("resetActiveRound")},setActiveRound(e,t){nodecg.sendMessage("setActiveRound",t)},swapRoundColor(e,t){nodecg.sendMessage("swapRoundColor",t)},updateActiveGames(e,t){nodecg.sendMessage("updateActiveGames",{games:t})},switchToNextColor(){nodecg.sendMessage("switchToNextColor")},switchToPreviousColor(){nodecg.sendMessage("switchToPreviousColor")},getNextAndPreviousColors(){return e=this,t=void 0,a=function*(){return nodecg.sendMessage("getNextAndPreviousColors")},new((o=void 0)||(o=Promise))((function(l,n){function r(e){try{i(a.next(e))}catch(e){n(e)}}function s(e){try{i(a.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,s)}i((a=a.apply(e,t||[])).next())}));var e,t,o,a}}}),R=Symbol();function k(){return(0,x.oR)(R)}var W;!function(e){e.NO_WINNER="none",e.ALPHA="alpha",e.BRAVO="bravo"}(W||(W={}));var F=o(6974),D=o.n(F);b.vI.add(w.r8,f.Kl);const _=(0,l.aZ)({name:"ScoreDisplay",components:{IplButton:C.IplButton,IplSpace:C.IplSpace},setup(){const e=k();return{teamAScore:(0,i.Fl)((()=>e.state.activeRound.teamA.score)),teamBScore:(0,i.Fl)((()=>e.state.activeRound.teamB.score)),GameWinner:W,setWinner(t){e.dispatch("setWinner",{winner:t})},removeWinner(){e.dispatch("removeWinner")},disableAddScore:(0,i.Fl)((()=>{const t=e.state.activeRound;return t.teamA.score+t.teamB.score>=t.games.length})),lastWinner:(0,i.Fl)((()=>{var t;return null===(t=D()(e.state.activeRound.games.filter((e=>e.winner!==W.NO_WINNER))))||void 0===t?void 0:t.winner}))}}});var V=o(6062),E=o.n(V),T=o(3973);E()(T.Z,{insert:"head",singleton:!1}),T.Z.locals;var M=o(4407);const O=(0,M.Z)(_,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-button"),i=(0,l.up)("ipl-space");return(0,l.wg)(),(0,l.j4)(i,{class:"layout horizontal center-horizontal center-vertical"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"light",class:"layout horizontal score-display-space"},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l.Wm)(s,{icon:"plus",color:"green",small:"",disabled:e.disableAddScore,"data-test":"team-a-plus-btn",onClick:t[0]||(t[0]=t=>e.setWinner(e.GameWinner.ALPHA))},null,8,["disabled"]),(0,l.Wm)(s,{class:"m-t-4",icon:"minus",color:"red",small:"","data-test":"team-a-minus-btn",disabled:e.lastWinner===e.GameWinner.BRAVO||null==e.lastWinner,onClick:e.removeWinner},null,8,["disabled","onClick"])]),(0,l._)("div",u,[(0,l._)("span",m,(0,c.zw)(e.teamAScore),1)])])),_:1}),p,(0,l.Wm)(i,{color:"light",class:"layout horizontal score-display-space"},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("span",g,(0,c.zw)(e.teamBScore),1)]),(0,l._)("div",h,[(0,l.Wm)(s,{icon:"plus",color:"green",small:"",disabled:e.disableAddScore,"data-test":"team-b-plus-btn",onClick:t[1]||(t[1]=t=>e.setWinner(e.GameWinner.BRAVO))},null,8,["disabled"]),(0,l.Wm)(s,{class:"m-t-4",icon:"minus",color:"red",small:"",disabled:e.lastWinner===e.GameWinner.ALPHA||null==e.lastWinner,"data-test":"team-b-minus-btn",onClick:e.removeWinner},null,8,["disabled","onClick"])])])),_:1})])),_:1})}],["__scopeId","data-v-3d6c6ccb"]]),z={class:"layout horizontal"},P={class:"layout vertical center-horizontal max-width"},G={class:"layout vertical center-horizontal max-width m-l-8"};var j=function(e,t,o,a){return new(o||(o=Promise))((function(l,n){function r(e){try{i(a.next(e))}catch(e){n(e)}}function s(e){try{i(a.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,s)}i((a=a.apply(e,t||[])).next())}))};const U=nodecg.Replicant("tournamentData"),Z=nodecg.Replicant("roundStore"),H=nodecg.Replicant("matchStore"),L=[U,Z,H],$=(0,x.MT)({state:{tournamentData:null,roundStore:null,matchStore:null},mutations:{setState(e,{name:t,val:o}){this.state[t]=I()(o)}},actions:{getTournamentData(e,{method:t,id:o}){return j(this,void 0,void 0,(function*(){return yield nodecg.sendMessage("getTournamentData",{method:t,id:o})}))},getSmashggEvent(e,{eventId:t}){return j(this,void 0,void 0,(function*(){return yield nodecg.sendMessage("getSmashggEvent",{eventId:t})}))},uploadTeamData(e,{file:t}){return j(this,void 0,void 0,(function*(){return Y("teams",t)}))},uploadRoundData(e,{file:t}){return j(this,void 0,void 0,(function*(){return Y("rounds",t)}))},fetchRoundData(e,{url:t}){return j(this,void 0,void 0,(function*(){return nodecg.sendMessage("getRounds",{url:t})}))},updateRound(e,t){return j(this,void 0,void 0,(function*(){return nodecg.sendMessage("updateRoundStore",t)}))},resetRoundStore(){nodecg.sendMessage("resetRoundStore")},setTeamImageHidden:(e,{teamId:t,isVisible:o})=>nodecg.sendMessage("toggleTeamImage",{teamId:t,isVisible:o}),removeRound:(e,{roundId:t})=>nodecg.sendMessage("removeRound",{roundId:t}),setShortName(e,t){U.value.meta.shortName=t}}});function Y(e,t){return j(this,void 0,void 0,(function*(){const o=new FormData;o.append("file",t),o.append("jsonType",e);const a=yield fetch("/ipl-overlay-controls/upload-tournament-json",{method:"POST",body:o});if(200!==a.status){const e=yield a.text();throw new Error(`Import failed with status ${a.status}: ${e}`)}}))}const q=Symbol();function K(){return(0,x.oR)(q)}var Q=o(908);function J(e,t,...o){const a=(0,i.qj)({isValid:null});return(0,l.YP)(e,(e=>{for(let t=0;t<o.length;t++){const l=o[t](e);if(!l.isValid){a.isValid=!1,a.message=l.message;break}a.isValid=!0,a.message=null}}),{immediate:t}),a}var X=o(5648),ee=o.n(X);o(5455);const te=e=>({isValid:""!==ee()(e),message:"Must not be blank"}),oe=(0,l.aZ)({name:"ActiveRoundEditor",components:{IplExpandingSpace:C.IplExpandingSpace,IplMessage:C.IplMessage,IplButton:C.IplButton,IplCheckbox:C.IplCheckbox,IplSelect:C.IplSelect,IplInput:C.IplInput},setup(){const e=K(),t=k(),o=(0,i.Fl)((()=>t.state.activeRound)),a=(0,i.iH)(""),n=(0,i.iH)(""),r=(0,i.iH)(""),s=(0,i.iH)(""),c=(0,i.Fl)((()=>e.state.matchStore[r.value])),d=(0,i.Fl)((()=>{var e,t,o,a;return(null===(t=null===(e=c.value)||void 0===e?void 0:e.teamA)||void 0===t?void 0:t.score)>0||(null===(a=null===(o=c.value)||void 0===o?void 0:o.teamB)||void 0===a?void 0:a.score)>0}));(0,l.YP)(c,(e=>{e&&(a.value=e.teamA.id,n.value=e.teamB.id,s.value=e.meta.name)}));const u=(0,i.Fl)((()=>a.value!==t.state.activeRound.teamA.id||n.value!==t.state.activeRound.teamB.id||r.value!==t.state.activeRound.match.id||s.value!==t.state.activeRound.match.name));t.watch((e=>e.activeRound.teamA.id),(e=>a.value=e),{immediate:!0}),t.watch((e=>e.activeRound.teamB.id),(e=>n.value=e),{immediate:!0}),t.watch((e=>e.activeRound.match.id),(e=>r.value=e),{immediate:!0}),t.watch((e=>e.activeRound.match.name),(e=>s.value=e),{immediate:!0});const m={matchName:J(s,!1,te)};return(0,C.provideValidators)(m),{teams:(0,i.Fl)((()=>e.state.tournamentData.teams.map((e=>({value:e.id,name:(0,Q.f)(e.name)}))))),teamAId:a,teamBId:n,matchId:r,matchName:s,activeRound:o,teamAImageShown:(0,i.Fl)({get:()=>t.state.activeRound.teamA.showLogo,set(o){e.dispatch("setTeamImageHidden",{teamId:t.state.activeRound.teamA.id,isVisible:o})}}),teamBImageShown:(0,i.Fl)({get:()=>t.state.activeRound.teamB.showLogo,set(o){e.dispatch("setTeamImageHidden",{teamId:t.state.activeRound.teamB.id,isVisible:o})}}),matches:(0,i.Fl)((()=>Object.entries(e.state.matchStore).map((([e,t])=>({value:e,name:t.meta.name}))))),isChanged:u,updateRound(){t.dispatch("setActiveRound",{matchId:r.value,matchName:s.value,teamAId:a.value,teamBId:n.value})},selectedMatch:c,matchHasProgress:d,addDots:Q.f,validators:m}}}),ae=(0,M.Z)(oe,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-message"),i=(0,l.up)("ipl-select"),d=(0,l.up)("ipl-checkbox"),u=(0,l.up)("ipl-input"),m=(0,l.up)("ipl-button"),p=(0,l.up)("ipl-expanding-space");return(0,l.wg)(),(0,l.j4)(p,{key:"teams-rounds",title:"Active Match","data-test":"active-match-editor"},{default:(0,l.w5)((()=>[e.isChanged&&e.matchHasProgress?((0,l.wg)(),(0,l.j4)(s,{key:0,type:"info","data-test":"match-progress-message"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,c.zw)(e.selectedMatch.meta.isCompleted?`'${e.selectedMatch.meta.name}' is already completed.`:`'${e.selectedMatch.meta.name}' already has saved progress.`)+" "+(0,c.zw)(`(${e.addDots(e.selectedMatch.teamA.name)} vs ${e.addDots(e.selectedMatch.teamB.name)})`),1)])),_:1})):(0,l.kq)("",!0),(0,l._)("div",z,[(0,l._)("div",P,[(0,l.Wm)(i,{modelValue:e.teamAId,"onUpdate:modelValue":t[0]||(t[0]=t=>e.teamAId=t),label:"Team A","data-test":"team-a-selector",options:e.teams},null,8,["modelValue","options"]),(0,l.Wm)(d,{modelValue:e.teamAImageShown,"onUpdate:modelValue":t[1]||(t[1]=t=>e.teamAImageShown=t),class:"m-t-6",label:"Show image","data-test":"team-a-image-toggle",small:""},null,8,["modelValue"])]),(0,l._)("div",G,[(0,l.Wm)(i,{modelValue:e.teamBId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.teamBId=t),label:"Team B","data-test":"team-b-selector",options:e.teams},null,8,["modelValue","options"]),(0,l.Wm)(d,{modelValue:e.teamBImageShown,"onUpdate:modelValue":t[3]||(t[3]=t=>e.teamBImageShown=t),class:"m-t-6",label:"Show image","data-test":"team-b-image-toggle",small:""},null,8,["modelValue"])])]),(0,l.Wm)(i,{modelValue:e.matchId,"onUpdate:modelValue":t[4]||(t[4]=t=>e.matchId=t),class:"m-t-6",options:e.matches,"data-test":"match-selector",label:"Match"},null,8,["modelValue","options"]),(0,l.Wm)(u,{modelValue:e.matchName,"onUpdate:modelValue":t[5]||(t[5]=t=>e.matchName=t),name:"matchName",label:"Match Name",class:"m-t-6"},null,8,["modelValue"]),(0,l.Wm)(m,{class:"m-t-8",label:"Update",color:e.isChanged?"red":"blue","data-test":"update-match-button",onClick:e.updateRound},null,8,["color","onClick"])])),_:1})}]]),le={class:"colors-container"},ne={class:"layout horizontal center-horizontal"},re={key:0,class:"m-t-8"},se={class:"title"},ie=["data-test","onClick"],ce={style:{"flex-grow":"1"}},de={class:"color-previews layout horizontal"},ue={key:0},me={class:"layout horizontal m-t-8"};const pe="#181e29";var ve,ge=o(1613);function he(e){const t=I()(e);return t.stages.push("Unknown Stage","Counterpick"),t.stages.sort(),t.modes.push("Unknown Mode"),t.modes.sort(),t.colors.push({meta:{name:"Custom Color"},colors:[{index:0,title:"Custom Color",clrA:"#000000",clrB:"#FFFFFF",clrNeutral:"#818181",isCustom:!0}]}),t}!function(e){e.SPLATOON_2="SPLATOON_2",e.SPLATOON_3="SPLATOON_3"}(ve||(ve={}));const Ce=he({stages:["Ancho-V Games","Arowana Mall","Blackbelly Skatepark","Camp Triggerfish","Goby Arena","Humpback Pump Track","Inkblot Art Academy","Kelp Dome","MakoMart","Manta Maria","Moray Towers","Musselforge Fitness","New Albacore Hotel","Piranha Pit","Port Mackerel","Shellendorf Institute","Shifty Station","Snapper Canal","Starfish Mainstage","Sturgeon Shipyard","The Reef","Wahoo World","Walleye Warehouse","Skipper Pavilion"],modes:["Clam Blitz","Tower Control","Rainmaker","Splat Zones","Turf War"],colors:[{meta:{name:"Ranked Modes"},colors:[{index:0,title:"Green vs Grape",clrA:"#37FC00",clrB:"#7D28FC",clrNeutral:"#F4067E",isCustom:!1},{index:1,title:"Green vs Magenta",clrA:"#04D976",clrB:"#D600AB",clrNeutral:"#D2E500",isCustom:!1},{index:2,title:"Turquoise vs Orange",clrA:"#10E38F",clrB:"#FB7B08",clrNeutral:"#6912CD",isCustom:!1},{index:3,title:"Mustard vs Purple",clrA:"#FF9E03",clrB:"#B909E0",clrNeutral:"#08C66B",isCustom:!1},{index:4,title:"Dark Blue vs Green",clrA:"#2F27CC",clrB:"#37FC00",clrNeutral:"#EA01B7",isCustom:!1},{index:5,title:"Purple vs Green",clrA:"#B909E0",clrB:"#37FC00",clrNeutral:"#F87604",isCustom:!1},{index:6,title:"Yellow vs Blue",clrA:"#FEF232",clrB:"#2ED2FE",clrNeutral:"#FD5600",isCustom:!1}]},{meta:{name:"Turf War"},colors:[{index:0,title:"Yellow vs Purple",clrA:"#D1E004",clrB:"#960CB2",clrNeutral:"#0EB962",isCustom:!1},{index:1,title:"Pink vs Blue",clrA:"#E61077",clrB:"#361CB8",clrNeutral:"#24C133",isCustom:!1},{index:2,title:"Pink vs Yellow",clrA:"#ED0C6A",clrB:"#D5E802",clrNeutral:"#08C24D",isCustom:!1},{index:3,title:"Purple vs Turquoise",clrA:"#6B10CC",clrB:"#08CC81",clrNeutral:"#EB246D",isCustom:!1},{index:4,title:"Pink vs Light Blue",clrA:"#E30960",clrB:"#02ADCF",clrNeutral:"#DDE713",isCustom:!1},{index:5,title:"Purple vs Orange",clrA:"#5617C2",clrB:"#FF5F03",clrNeutral:"#ACE81E",isCustom:!1},{index:6,title:"Pink vs Green",clrA:"#E60572",clrB:"#1BBF0F",clrNeutral:"#CCE50C",isCustom:!1}]},{meta:{name:"Color Lock"},colors:[{index:0,title:"Yellow vs Blue (Color Lock)",clrA:"#FEF232",clrB:"#2F27CC",clrNeutral:"#DC1589",isCustom:!1}]}]}),be=he({stages:["Museum d'Alfonsino","Scorch Gorge","Eeltail Alley"],modes:["Turf War"],colors:[{meta:{name:"Splatoon 3 colors"},colors:[{index:0,title:"Blue vs Yellow",clrA:"#5F3AE0",clrB:"#EDED3D",clrNeutral:"#FFFFFF",isCustom:!1}]}]}),we={[ve.SPLATOON_2]:Ce,[ve.SPLATOON_3]:be},fe=(0,l.aZ)({name:"ColorEditor",components:{IplButton:C.IplButton,IplInput:C.IplInput,IplCheckbox:C.IplCheckbox,IplExpandingSpace:C.IplExpandingSpace},setup(){const e=k(),t=(0,ge.F2)(),o=(0,i.Fl)((()=>we[t.state.runtimeConfig.gameVersion])),a=(0,i.iH)(!1),l=(0,i.iH)(null),n=(0,i.iH)(null);e.watch((e=>e.activeRound.teamA.color),(e=>{l.value=e}),{immediate:!0}),e.watch((e=>e.activeRound.teamB.color),(e=>{n.value=e}),{immediate:!0}),e.watch((e=>e.swapColorsInternally),(()=>{const e=l.value;l.value=n.value,n.value=e}));const r=(0,i.Fl)((()=>e.state.swapColorsInternally));return e.watch((e=>e.activeRound.activeColor.isCustom),(e=>{a.value=e}),{immediate:!0}),{useCustomColor:a,customColorA:l,customColorB:n,customColorChanged:(0,i.Fl)((()=>{const t=e.state.activeRound;return l.value!==t.teamA.color||n.value!==t.teamB.color})),submitCustomColor(){e.dispatch("setActiveColor",{categoryName:"Custom Color",color:{index:0,title:"Custom Color",clrA:l.value,clrB:n.value,clrNeutral:"#FFFFFF",isCustom:!0}})},colorsWithoutCustom:(0,i.Fl)((()=>o.value.colors.filter((e=>"Custom Color"!==e.meta.name)))),activeColor:(0,i.Fl)((()=>e.state.activeRound.activeColor.title)),getBorderColor:e=>function(e,t="white",o="#333"){if(!e)return null;const{r:a,g:l,b:n}=(r=(r=e).replace("#",""),{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16)});var r;return(299*a+587*l+114*n)/1e3>=128?o:t}(e,"white",pe),setColor(t,o){var a;e.dispatch("setActiveColor",{color:r.value?(a=t,Object.assign(Object.assign({},a),{clrA:a.clrB,clrB:a.clrA})):t,categoryName:o})},swapColorsInternally:r}}});var xe=o(3751);E()(xe.Z,{insert:"head",singleton:!1}),xe.Z.locals;const ye=(0,M.Z)(fe,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-checkbox"),i=(0,l.up)("ipl-input"),d=(0,l.up)("ipl-button"),u=(0,l.up)("ipl-expanding-space");return(0,l.wg)(),(0,l.j4)(u,{key:"more-colors",title:"More colors"},{default:(0,l.w5)((()=>[(0,l._)("div",le,[(0,l._)("div",ne,[(0,l.Wm)(s,{modelValue:e.useCustomColor,"onUpdate:modelValue":t[0]||(t[0]=t=>e.useCustomColor=t),label:"Use custom color",small:""},null,8,["modelValue"])]),e.useCustomColor?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",re,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.colorsWithoutCustom,((t,o)=>((0,l.wg)(),(0,l.iD)("div",{key:`color-group_${o}`,class:"color-group"},[(0,l._)("div",se,(0,c.zw)(t.meta.name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.colors,((a,n)=>((0,l.wg)(),(0,l.iD)("div",{key:`color_${o}_${n}`,"data-test":`color-option-${o}-${n}`,class:(0,c.C_)(["color-option layout horizontal center-vertical",{"is-selected":e.activeColor===a.title}]),onClick:o=>e.setColor(a,t.meta.name)},[(0,l._)("span",ce,(0,c.zw)(a.title),1),(0,l._)("div",de,[(0,l._)("div",{class:"color-preview",style:(0,c.j5)({backgroundColor:e.swapColorsInternally?a.clrB:a.clrA,borderColor:e.getBorderColor(e.swapColorsInternally?a.clrB:a.clrA)})},null,4),(0,l._)("div",{class:"color-preview",style:(0,c.j5)({backgroundColor:e.swapColorsInternally?a.clrA:a.clrB,borderColor:e.getBorderColor(e.swapColorsInternally?a.clrA:a.clrB)})},null,4)])],10,ie)))),128))])))),128))]))]),e.useCustomColor?((0,l.wg)(),(0,l.iD)("div",ue,[(0,l._)("div",me,[(0,l.Wm)(i,{modelValue:e.customColorA,"onUpdate:modelValue":t[1]||(t[1]=t=>e.customColorA=t),type:"color",style:{"flex-grow":"1"},name:"team-a-color"},null,8,["modelValue"]),(0,l.Wm)(i,{modelValue:e.customColorB,"onUpdate:modelValue":t[2]||(t[2]=t=>e.customColorB=t),type:"color",class:"m-l-8",style:{"flex-grow":"1"},name:"team-b-color"},null,8,["modelValue"])]),(0,l.Wm)(d,{label:"Update",class:"m-t-8",color:e.customColorChanged?"red":"blue","data-test":"custom-color-submit-btn",onClick:e.submitCustomColor},null,8,["color","onClick"])])):(0,l.kq)("",!0)])),_:1})}],["__scopeId","data-v-50c6ac87"]]);var Ie=o(4825);const Ae=e=>((0,l.dD)("data-v-60df6046"),e=e(),(0,l.Cn)(),e),Be=(0,l.Uk)(" Edit match "),Se=Ae((()=>(0,l._)("span",{class:"badge badge-blue m-l-6"},"Next up",-1))),Ne={class:"text-small"},Re=["data-test"],ke={class:"set-number"},We={class:"layout horizontal max-width m-l-6"},Fe={class:"color-editor-toggles layout horizontal"},De={class:"winner-selection m-l-6 layout horizontal"},_e={class:"layout horizontal m-t-8"};var Ve=o(4847),Ee=o(8149),Te=o.n(Ee);b.vI.add(Ve.NB);const Me=(0,l.aZ)({name:"SetEditor",components:{IplCheckbox:C.IplCheckbox,IplToggleButton:C.IplToggleButton,IplButton:C.IplButton,IplSelect:C.IplSelect,IplExpandingSpace:C.IplExpandingSpace,IplInput:C.IplInput},setup(){const e=k(),t=(0,ge.F2)(),o=(0,i.Fl)((()=>we[t.state.runtimeConfig.gameVersion])),a=(0,i.iH)(!1),l=(0,i.iH)(I()(e.state.activeRound.games)),n=(0,i.Fl)((()=>!Te()(l.value,e.state.activeRound.games)));e.watch((e=>e.activeRound.games),((e,t)=>{l.value=I()(e).map(((e,o)=>{const a=t[o],n=Object.assign(Object.assign({},l.value[o]),{winner:e.winner});return Te()(e.color,null==a?void 0:a.color)||(n.color=e.color),Te()(e.stage,null==a?void 0:a.stage)||(n.stage=e.stage),Te()(e.mode,null==a?void 0:a.mode)||(n.mode=e.mode),n.color||delete n.color,n}))}));const r=(0,i.Fl)((()=>Object.assign(Object.assign({},e.state.activeRound.activeColor),{clrA:e.state.activeRound.teamA.color,clrB:e.state.activeRound.teamB.color}))),s=(0,i.Fl)((()=>e.state.activeRound.games.findIndex((e=>e.winner===W.NO_WINNER)))),c=(0,i.Fl)((()=>-1===s.value?null:e.state.activeRound.games[s.value]));return{games:l,stages:(0,i.Fl)((()=>o.value.stages.map((e=>({value:e,name:e}))))),modes:(0,i.Fl)((()=>o.value.modes.map((e=>({value:e,name:e}))))),GameWinner:W,gamesChanged:n,getColorA(t){var o,a;return null!==(a=null===(o=t.color)||void 0===o?void 0:o.clrA)&&void 0!==a?a:e.state.activeRound.teamA.color},getColorB(t){var o,a;return null!==(a=null===(o=t.color)||void 0===o?void 0:o.clrB)&&void 0!==a?a:e.state.activeRound.teamB.color},setWinner(t,o){e.dispatch("setWinnerForIndex",{index:t,winner:o})},editColorsEnabled:a,activeColor:r,colors:(0,i.Fl)((()=>o.value.colors.map((e=>({name:e.meta.name,options:e.colors.map((t=>({name:t.title,value:`${e.meta.name}_${t.index}`,disabled:"Custom Color"===e.meta.name})))}))))),setGameColor(t,a){var n,r;const s=a.split("_"),i=parseInt(s[1]),c=o.value.colors.find((e=>e.meta.name===s[0])).colors[i],d=null!==(r=null===(n=l.value[t].color)||void 0===n?void 0:n.colorsSwapped)&&void 0!==r?r:e.state.swapColorsInternally;l.value[t].color=Object.assign(Object.assign(Object.assign({},c),d&&{clrA:c.clrB,clrB:c.clrA}),{categoryName:s[0],colorsSwapped:d})},setColorsSwapped(t,o){e.dispatch("swapRoundColor",{roundIndex:t,colorsSwapped:o})},setIsCustomColor(e,t){l.value[e].color&&(l.value[e].color=Object.assign(Object.assign({},l.value[e].color),{categoryName:"Custom Color",title:"Custom Color",index:0,isCustom:t}))},setCustomColor(e,t,o){l.value[t].color&&("a"===e?l.value[t].color.clrA=o:"b"===e&&(l.value[t].color.clrB=o))},swapColorsInternally:(0,i.Fl)((()=>e.state.swapColorsInternally)),handleUpdate(){e.dispatch("updateActiveGames",l.value)},handleReset(){e.dispatch("resetActiveRound")},nextGame:c,nextGameIndex:s}}});var Oe=o(7286);E()(Oe.Z,{insert:"head",singleton:!1}),Oe.Z.locals;var ze=o(4432);E()(ze.Z,{insert:"head",singleton:!1}),ze.Z.locals;const Pe=(0,M.Z)(Me,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-select"),i=(0,l.up)("ipl-input"),d=(0,l.up)("ipl-checkbox"),u=(0,l.up)("ipl-button"),m=(0,l.up)("ipl-toggle-button"),p=(0,l.up)("ipl-expanding-space");return(0,l.wg)(),(0,l.j4)(p,null,{title:(0,l.w5)((()=>[Be,e.nextGame?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Se,(0,l._)("span",Ne,(0,c.zw)(e.nextGame.mode)+" on "+(0,c.zw)(e.nextGame.stage),1)],64)):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.games,((t,o)=>{var a,n,r,m,p,v,g,h,C,b,w,f,x,y,I,A,B,S;return(0,l.wg)(),(0,l.iD)("div",{key:`set-editor-${o}`,"data-test":`set-editor-${o}`,class:(0,c.C_)(["layout horizontal center-vertical game-editor",{"is-next-game":o===e.nextGameIndex}])},[(0,l._)("span",ke,(0,c.zw)(o+1),1),(0,l.wy)((0,l.Wm)(s,{modelValue:t.stage,"onUpdate:modelValue":e=>t.stage=e,options:e.stages,"data-test":"stage-select",class:"m-l-6"},null,8,["modelValue","onUpdate:modelValue","options"]),[[Ie.F8,!e.editColorsEnabled]]),(0,l.wy)((0,l.Wm)(s,{modelValue:t.mode,"onUpdate:modelValue":e=>t.mode=e,options:e.modes,"data-test":"mode-select",class:"m-l-6"},null,8,["modelValue","onUpdate:modelValue","options"]),[[Ie.F8,!e.editColorsEnabled]]),(0,l.wy)((0,l.Wm)(s,{"model-value":`${null!==(n=null===(a=t.color)||void 0===a?void 0:a.categoryName)&&void 0!==n?n:e.activeColor.categoryName}_${null!==(m=null===(r=t.color)||void 0===r?void 0:r.index)&&void 0!==m?m:e.activeColor.index}`,"option-groups":e.colors,class:"m-l-6",disabled:t.winner===e.GameWinner.NO_WINNER,"data-test":"color-select","onUpdate:modelValue":t=>e.setGameColor(o,t)},null,8,["model-value","option-groups","disabled","onUpdate:modelValue"]),[[Ie.F8,e.editColorsEnabled&&!(null!==(v=null===(p=t.color)||void 0===p?void 0:p.isCustom)&&void 0!==v?v:e.activeColor.isCustom)]]),(0,l.wy)((0,l._)("div",We,[(0,l.Wm)(i,{"model-value":null!==(h=null===(g=t.color)||void 0===g?void 0:g.clrA)&&void 0!==h?h:e.activeColor.clrA,type:"color",class:"max-width custom-color-select",style:{"flex-grow":"1"},name:"team-a-color",disabled:!(null===(C=t.color)||void 0===C?void 0:C.clrA),"data-test":"custom-color-select-a","onUpdate:modelValue":t=>e.setCustomColor("a",o,t)},null,8,["model-value","disabled","onUpdate:modelValue"]),(0,l.Wm)(i,{"model-value":null!==(w=null===(b=t.color)||void 0===b?void 0:b.clrB)&&void 0!==w?w:e.activeColor.clrB,type:"color",class:"m-l-8 max-width custom-color-select",style:{"flex-grow":"1"},name:"team-b-color",disabled:!(null===(f=t.color)||void 0===f?void 0:f.clrB),"data-test":"custom-color-select-b","onUpdate:modelValue":t=>e.setCustomColor("b",o,t)},null,8,["model-value","disabled","onUpdate:modelValue"])],512),[[Ie.F8,e.editColorsEnabled&&(null!==(y=null===(x=t.color)||void 0===x?void 0:x.isCustom)&&void 0!==y?y:e.activeColor.isCustom)]]),(0,l.wy)((0,l._)("div",Fe,[(0,l.Wm)(d,{"model-value":null!==(A=null===(I=t.color)||void 0===I?void 0:I.isCustom)&&void 0!==A?A:e.activeColor.isCustom,disabled:!t.color,label:"Custom color",small:"","data-test":"custom-color-toggle","onUpdate:modelValue":t=>e.setIsCustomColor(o,t)},null,8,["model-value","disabled","onUpdate:modelValue"]),(0,l.Wm)(d,{"model-value":null!==(S=null===(B=t.color)||void 0===B?void 0:B.colorsSwapped)&&void 0!==S?S:e.swapColorsInternally,disabled:!t.color,label:"Swap colors",class:"m-l-6",small:"","data-test":"swap-colors-toggle","onUpdate:modelValue":t=>e.setColorsSwapped(o,t)},null,8,["model-value","disabled","onUpdate:modelValue"])],512),[[Ie.F8,e.editColorsEnabled]]),(0,l.Wm)(u,{icon:"times",color:"red",class:"m-l-6 no-winner-button",disabled:t.winner===e.GameWinner.NO_WINNER,"data-test":"set-winner-button-none",onClick:t=>e.setWinner(o,e.GameWinner.NO_WINNER)},null,8,["disabled","onClick"]),(0,l._)("div",De,[(0,l.Wm)(u,{label:"A",color:e.getColorA(t),style:(0,c.j5)({borderLeft:`${t.winner===e.GameWinner.ALPHA?"8px":"0px"} solid ${e.getColorA(t)}`}),disabled:t.winner===e.GameWinner.ALPHA,"data-test":"set-winner-button-a",onClick:t=>e.setWinner(o,e.GameWinner.ALPHA)},null,8,["color","style","disabled","onClick"]),(0,l.Wm)(u,{label:"B",color:e.getColorB(t),style:(0,c.j5)({borderRight:`${t.winner===e.GameWinner.BRAVO?"8px":"0px"} solid ${e.getColorB(t)}`}),disabled:t.winner===e.GameWinner.BRAVO,"data-test":"set-winner-button-b",onClick:t=>e.setWinner(o,e.GameWinner.BRAVO)},null,8,["color","style","disabled","onClick"])])],10,Re)})),128)),(0,l._)("div",_e,[(0,l.Wm)(u,{label:"Update",color:e.gamesChanged?"red":"blue","data-test":"update-button",onClick:e.handleUpdate},null,8,["color","onClick"]),(0,l.Wm)(u,{label:"Reset",color:"red",class:"m-l-6","requires-confirmation":"","data-test":"reset-button",onClick:e.handleReset},null,8,["onClick"]),(0,l.Wm)(m,{modelValue:e.editColorsEnabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editColorsEnabled=t),label:"Edit colors",class:"m-l-6","data-test":"edit-colors-toggle"},null,8,["modelValue"])])])),_:1})}],["__scopeId","data-v-60df6046"]]),Ge={class:"layout horizontal"},je={class:"max-width text-small team-name wrap-anywhere"},Ue={class:"max-width text-small team-name wrap-anywhere text-right m-l-6"},Ze={class:"layout horizontal m-t-4"},He={class:"layout horizontal m-t-6 color-toggle-container"};var Le=o(1901),$e=o(5220),Ye=o(7476);b.vI.add($e._t,Ye.A3);const qe=(0,l.aZ)({name:"ActiveColorToggles",components:{IplSpace:C.IplSpace,IplButton:C.IplButton,FontAwesomeIcon:Le.GN},setup(){const e=k(),t=(0,i.Fl)((()=>e.state.activeRound)),o=(0,i.iH)(null),a=(0,i.iH)(null);return e.watch((e=>[e.activeRound.activeColor.index,e.activeRound.activeColor.categoryName]),(()=>{return t=this,l=void 0,r=function*(){const t=yield e.dispatch("getNextAndPreviousColors");o.value=t.nextColor,a.value=t.previousColor},new((n=void 0)||(n=Promise))((function(e,o){function a(e){try{i(r.next(e))}catch(e){o(e)}}function s(e){try{i(r.throw(e))}catch(e){o(e)}}function i(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n((function(e){e(o)}))).then(a,s)}i((r=r.apply(t,l||[])).next())}));var t,l,n,r}),{immediate:!0}),{activeRound:t,colorTogglesDisabled:(0,i.Fl)((()=>"Custom Color"===e.state.activeRound.activeColor.categoryName)),getBorderColor:e=>e?(0,C.getContrastingTextColor)(e,"white",pe):pe,colorsSwapped:(0,i.Fl)((()=>e.state.swapColorsInternally)),nextColor:o,previousColor:a,addDots:Q.f,swapColors(){e.dispatch("swapColors")},switchToNextColor(){e.dispatch("switchToNextColor")},switchToPreviousColor(){e.dispatch("switchToPreviousColor")}}}});var Ke=o(8337);E()(Ke.Z,{insert:"head",singleton:!1}),Ke.Z.locals;const Qe=(0,M.Z)(qe,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("font-awesome-icon"),i=(0,l.up)("ipl-button"),d=(0,l.up)("ipl-space");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>{var o,a,n,r,d,u,m,p;return[(0,l._)("div",Ge,[(0,l._)("span",je,(0,c.zw)(e.addDots(e.activeRound.teamA.name,36)),1),(0,l._)("span",Ue,(0,c.zw)(e.addDots(e.activeRound.teamB.name,36)),1)]),(0,l._)("div",Ze,[(0,l._)("div",{class:"color-display text-right",style:(0,c.j5)({backgroundColor:e.activeRound.teamA.color,color:e.getBorderColor(e.activeRound.teamA.color)}),"data-test":"team-a-color-display"},(0,c.zw)(e.colorsSwapped?"β":"α"),5),(0,l._)("div",{class:"color-display m-l-6",style:(0,c.j5)({backgroundColor:e.activeRound.teamB.color,color:e.getBorderColor(e.activeRound.teamB.color)}),"data-test":"team-b-color-display"},(0,c.zw)(e.colorsSwapped?"α":"β"),5)]),(0,l._)("div",He,[(0,l._)("div",{class:(0,c.C_)(["color-toggle layout horizontal center-vertical center-horizontal",{disabled:e.colorTogglesDisabled}]),"data-test":"color-toggle-previous",onClick:t[0]||(t[0]=(...t)=>e.switchToPreviousColor&&e.switchToPreviousColor(...t))},[(0,l.Wm)(s,{icon:"chevron-left",class:"icon-left"}),(0,l._)("div",{class:"color",style:(0,c.j5)({backgroundColor:null===(o=e.previousColor)||void 0===o?void 0:o.clrA,borderColor:e.getBorderColor(null===(a=e.previousColor)||void 0===a?void 0:a.clrA)})},null,4),(0,l._)("div",{class:"color",style:(0,c.j5)({backgroundColor:null===(n=e.previousColor)||void 0===n?void 0:n.clrB,borderColor:e.getBorderColor(null===(r=e.previousColor)||void 0===r?void 0:r.clrB)})},null,4)],2),(0,l.Wm)(i,{label:"Swap",class:"m-l-6","data-test":"swap-colors-button",onClick:e.swapColors},null,8,["onClick"]),(0,l._)("div",{class:(0,c.C_)(["color-toggle layout horizontal center-vertical center-horizontal m-l-6",{disabled:e.colorTogglesDisabled}]),"data-test":"color-toggle-next",onClick:t[1]||(t[1]=(...t)=>e.switchToNextColor&&e.switchToNextColor(...t))},[(0,l._)("div",{class:"color",style:(0,c.j5)({backgroundColor:null===(d=e.nextColor)||void 0===d?void 0:d.clrA,borderColor:e.getBorderColor(null===(u=e.nextColor)||void 0===u?void 0:u.clrA)})},null,4),(0,l._)("div",{class:"color",style:(0,c.j5)({backgroundColor:null===(m=e.nextColor)||void 0===m?void 0:m.clrB,borderColor:e.getBorderColor(null===(p=e.nextColor)||void 0===p?void 0:p.clrB)})},null,4),(0,l.Wm)(s,{icon:"chevron-right",class:"icon-right"})],2)])]})),_:1})}],["__scopeId","data-v-1eaa94a2"]]);var Je=o(8447),Xe=function(e,t,o,a){return new(o||(o=Promise))((function(l,n){function r(e){try{i(a.next(e))}catch(e){n(e)}}function s(e){try{i(a.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,s)}i((a=a.apply(e,t||[])).next())}))};const et=nodecg.Replicant("casters"),tt=nodecg.Replicant("radiaSettings"),ot=[et,tt],at={name:"New Caster",twitter:"",pronouns:"?/?"},lt=(0,x.MT)({state:{casters:{},uncommittedCasters:{},radiaSettings:{enabled:null,guildID:null,updateOnImport:null}},mutations:{setState(e,{name:t,val:o}){this.state[t]=I()(o)},updateCaster(e,{id:t,newValue:o}){et.value[t]=o},addUncommittedCaster(e,{id:t,caster:o}){e.uncommittedCasters[t]=null!=o?o:at},removeUncommittedCaster(e,t){delete e.uncommittedCasters[t]}},actions:{addUncommittedCaster(e){const t=(0,Je.O)();return e.commit("addUncommittedCaster",{id:t}),t},saveUncommittedCaster(e,{id:t,caster:o}){return Xe(this,void 0,void 0,(function*(){const a=yield nodecg.sendMessage("saveCaster",o);return e.commit("removeUncommittedCaster",t),a}))},loadCastersFromVc(e){return Xe(this,void 0,void 0,(function*(){const t=yield nodecg.sendMessage("getLiveCommentators");if(t.extra&&t.extra.length>0)for(let o=0;o<t.extra.length;o++){const a=t.extra[o],l=a.discord_user_id;delete a.discord_user_id,e.commit("addUncommittedCaster",{id:l,caster:a})}}))},showCasters(){nodecg.sendMessage("mainShowCasters")},removeCaster(e,t){nodecg.sendMessage("removeCaster",{id:t})}}}),nt=Symbol(),rt=nodecg.Replicant("scoreboardData"),st=[rt],it=(0,x.MT)({state:{scoreboardData:{flavorText:"",isVisible:null}},mutations:{setState(e,{name:t,val:o}){this.state[t]=I()(o)},setFlavorText(e,t){rt.value.flavorText=t},setScoreboardVisible(e,t){rt.value.isVisible=t}}}),ct=Symbol(),dt=(0,l.aZ)({name:"ScoreboardEditor",components:{IplDataRow:C.IplDataRow,IplToggle:C.IplToggle,IplExpandingSpace:C.IplExpandingSpace},setup(){const e=(0,x.oR)(ct),t=(0,i.iH)(I()(e.state.scoreboardData));return e.watch((e=>e.scoreboardData.isVisible),(e=>{t.value.isVisible=e})),{flavorText:(0,i.Fl)((()=>e.state.scoreboardData.flavorText)),scoreboardData:t,setScoreboardVisible(t){e.commit("setScoreboardVisible",t)}}}}),ut=(0,M.Z)(dt,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-data-row"),i=(0,l.up)("ipl-toggle"),c=(0,l.up)("ipl-expanding-space");return(0,l.wg)(),(0,l.j4)(c,{key:"scoreboard",title:"Scoreboard"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:"Flavor Text",value:e.flavorText},null,8,["value"]),(0,l.Wm)(i,{modelValue:e.scoreboardData.isVisible,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.scoreboardData.isVisible=t),e.setScoreboardVisible],class:"m-t-8","data-test":"scoreboard-visible-toggle"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})}]]);var mt=o(6222);const pt=nodecg.Replicant("nextRound"),vt=[pt],gt=(0,x.MT)({state:{nextRound:null},mutations:{setState(e,{name:t,val:o}){this.state[t]=I()(o)},setShowOnStream(e,t){pt.value.showOnStream=t}},actions:{beginNextMatch(e,t){nodecg.sendMessage("beginNextMatch",t)},setNextRound(e,{teamAId:t,teamBId:o,roundId:a}){nodecg.sendMessage("setNextRound",{teamAId:t,teamBId:o,roundId:a})}}}),ht=Symbol();function Ct(){return(0,x.oR)(ht)}const bt=(0,l.aZ)({name:"BeginNextMatch",components:{IplInput:C.IplInput,IplButton:C.IplButton},props:{roundName:{type:String,required:!0}},setup(e){const t=Ct(),o=K(),a=(0,i.iH)(""),n={matchName:(0,C.validator)(a,!1,C.notBlank)};return(0,C.provideValidators)(n),(0,l.m0)((()=>{a.value=function(e,t){const o=Object.values(e).filter((e=>e.meta.name===t)).length;return o<=0?t:`${t} (${o+1})`}(o.state.matchStore,e.roundName)})),{matchName:a,allValid:(0,i.Fl)((()=>(0,C.allValid)(n))),beginNextMatch(){t.dispatch("beginNextMatch",{matchName:a.value})}}}}),wt=(0,M.Z)(bt,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-input"),i=(0,l.up)("ipl-button");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(s,{modelValue:e.matchName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.matchName=t),name:"matchName",label:"Match Name"},null,8,["modelValue"]),(0,l.Wm)(i,{label:"Begin next match",color:"red",class:"m-t-8","requires-confirmation":"","data-test":"begin-next-match-button",disabled:!e.allValid,onClick:e.beginNextMatch},null,8,["disabled","onClick"])])}]]),ft=(0,l.aZ)({name:"NextMatchStarter",components:{IplDataRow:C.IplDataRow,BeginNextMatch:wt,IplExpandingSpace:C.IplExpandingSpace},setup(){const e=Ct();return{roundData:(0,i.Fl)((()=>({name:e.state.nextRound.round.name,teamAName:(0,Q.f)(e.state.nextRound.teamA.name),teamBName:(0,Q.f)(e.state.nextRound.teamB.name)})))}}}),xt=(0,M.Z)(ft,[["render",function(e,t,o,a,n,r){const s=(0,l.up)("ipl-data-row"),i=(0,l.up)("begin-next-match"),c=(0,l.up)("ipl-expanding-space");return(0,l.wg)(),(0,l.j4)(c,{key:"next-round",title:"Begin Next Match"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:"Team A",value:e.roundData.teamAName},null,8,["value"]),(0,l.Wm)(s,{label:"Team B",value:e.roundData.teamBName},null,8,["value"]),(0,l.Wm)(s,{label:"Round",value:e.roundData.name},null,8,["value"]),(0,l.Wm)(i,{"round-name":e.roundData.name,class:"m-t-4"},null,8,["round-name"])])),_:1})}]]);var yt,It=o(5315);!function(e){e.CONNECTED="CONNECTED",e.CONNECTING="CONNECTING",e.NOT_CONNECTED="NOT_CONNECTED"}(yt||(yt={}));var At=function(e,t,o,a){return new(o||(o=Promise))((function(l,n){function r(e){try{i(a.next(e))}catch(e){n(e)}}function s(e){try{i(a.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,s)}i((a=a.apply(e,t||[])).next())}))};const Bt=(0,l.aZ)({name:"ActiveRound",components:{NextMatchStarter:xt,IplErrorDisplay:mt.Z,ScoreboardEditor:ut,IplButton:C.IplButton,IplSpace:C.IplSpace,ActiveColorToggles:Qe,IplExpandingSpaceGroup:C.IplExpandingSpaceGroup,ColorEditor:ye,ActiveMatchEditor:ae,ScoreDisplay:O,SetEditor:Pe},setup(){const e=(0,x.oR)(nt),t=(0,It.QO)(),o=(0,i.iH)(!1);let a;return nodecg.listenFor("mainShowCasters",(()=>{o.value=!0,clearTimeout(a),a=window.setTimeout((()=>{o.value=!1}),5e3)})),{disableShowCasters:o,isObsConnected:(0,i.Fl)((()=>t.state.obsData.status===yt.CONNECTED)),showCasters(){e.dispatch("showCasters")},startGame(){return At(this,void 0,void 0,(function*(){return t.dispatch("startGame")}))},endGame(){return At(this,void 0,void 0,(function*(){return t.dispatch("endGame")}))},disableGameStart:(0,i.Fl)((()=>t.state.obsData.gameplayScene===t.state.obsData.currentScene)),disableGameEnd:(0,i.Fl)((()=>t.state.obsData.gameplayScene!==t.state.obsData.currentScene))}}}),St=(0,M.Z)(Bt,[["render",function(e,t,o,a,i,c){const d=(0,l.up)("ipl-error-display"),u=(0,l.up)("score-display"),m=(0,l.up)("active-color-toggles"),p=(0,l.up)("ipl-button"),v=(0,l.up)("ipl-space"),g=(0,l.up)("color-editor"),h=(0,l.up)("active-match-editor"),C=(0,l.up)("next-match-starter"),b=(0,l.up)("scoreboard-editor"),w=(0,l.up)("ipl-expanding-space-group"),f=(0,l.up)("set-editor");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(d,{class:"m-b-8"}),(0,l._)("div",n,[(0,l._)("div",r,[(0,l.Wm)(u),(0,l.Wm)(m,{class:"m-t-8"}),(0,l.Wm)(v,{class:"m-t-8"},{default:(0,l.w5)((()=>[e.isObsConnected?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(p,{label:"Start",color:"green",async:"","progress-message":"Starting...",disabled:e.disableGameStart,"data-test":"start-game-button",onClick:e.startGame},null,8,["disabled","onClick"]),(0,l.Wm)(p,{label:"End",color:"red",async:"","progress-message":"Ending...",class:"m-l-8",disabled:e.disableGameEnd,"data-test":"end-game-button",onClick:e.endGame},null,8,["disabled","onClick"])])):(0,l.kq)("",!0),(0,l.Wm)(p,{label:"Show casters",disabled:e.disableShowCasters,small:e.isObsConnected,"data-test":"show-casters-button",onClick:e.showCasters},null,8,["disabled","small","onClick"])])),_:1})]),(0,l.Wm)(w,{class:"max-width m-l-8"},{default:(0,l.w5)((()=>[(0,l.Wm)(g),(0,l.Wm)(h,{class:"m-t-8"}),(0,l.Wm)(C,{class:"m-t-8"}),(0,l.Wm)(b,{class:"m-t-8"})])),_:1})]),(0,l.Wm)(f,{class:"m-t-8"})],64)}]]);var Nt,Rt,kt=o(4928);Rt=function*(){yield(0,a.r)(L,$),yield(0,a.r)(S,N),yield(0,a.r)(ot,lt),yield(0,a.r)(st,it),yield(0,a.r)(vt,gt),yield(0,a.r)(ge.ZR,ge.QT),yield(0,a.r)(It.Hb,It.RZ);const e=(0,Ie.ri)(St);(0,kt.EW)(e),e.use($,q),e.use(N,R),e.use(lt,nt),e.use(it,ct),e.use(gt,ht),e.use(ge.QT,ge.eo),e.use(It.RZ,It.Ex),e.mount("#app")},new((Nt=void 0)||(Nt=Promise))((function(e,t){function o(e){try{l(Rt.next(e))}catch(e){t(e)}}function a(e){try{l(Rt.throw(e))}catch(e){t(e)}}function l(t){var l;t.done?e(t.value):(l=t.value,l instanceof Nt?l:new Nt((function(e){e(l)}))).then(o,a)}l((Rt=Rt.apply(void 0,[])).next())}))}},o={};function a(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return t[e](n,n.exports,a),n.loaded=!0,n.exports}a.m=t,e=[],a.O=(t,o,l,n)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,l,n]=e[d],s=!0,i=0;i<o.length;i++)(!1&n||r>=n)&&Object.keys(a.O).every((e=>a.O[e](o[i])))?o.splice(i--,1):(s=!1,n<r&&(r=n));if(s){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,l,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={693:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,[r,s,i]=o,c=0;if(r.some((t=>0!==e[t]))){for(l in s)a.o(s,l)&&(a.m[l]=s[l]);if(i)var d=i(a)}for(t&&t(o);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[r[c]]=0;return a.O(d)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=a.O(void 0,[36,901,323],(()=>a(3228)));l=a.O(l)})();