(()=>{var e,n={5386:(e,n,t)=>{var a=t(6738),o=t(2842),r=t(2482);function l(e){var n=-1,t=null==e?0:e.length;for(this.__data__=new a;++n<t;)this.add(e[n])}l.prototype.add=l.prototype.push=o,l.prototype.has=r,e.exports=l},7064:e=>{e.exports=function(e,n){for(var t=-1,a=null==e?0:e.length;++t<a;)if(n(e[t],t,e))return!0;return!1}},8746:(e,n,t)=>{var a=t(1952),o=t(5125);e.exports=function e(n,t,r,l,u){return n===t||(null==n||null==t||!o(n)&&!o(t)?n!=n&&t!=t:a(n,t,r,l,e,u))}},1952:(e,n,t)=>{var a=t(6571),o=t(4871),r=t(1491),l=t(7416),u=t(940),i=t(6152),c=t(3226),s=t(7598),p="[object Arguments]",f="[object Array]",d="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,v,m,h){var y=i(e),w=i(n),b=y?f:u(e),_=w?f:u(n),P=(b=b==p?d:b)==d,S=(_=_==p?d:_)==d,x=b==_;if(x&&c(e)){if(!c(n))return!1;y=!0,P=!1}if(x&&!P)return h||(h=new a),y||s(e)?o(e,n,t,v,m,h):r(e,n,b,t,v,m,h);if(!(1&t)){var j=P&&g.call(e,"__wrapped__"),O=S&&g.call(n,"__wrapped__");if(j||O){var k=j?e.value():e,I=O?n.value():n;return h||(h=new a),m(k,I,t,v,h)}}return!!x&&(h||(h=new a),l(e,n,t,v,m,h))}},9950:e=>{e.exports=function(e,n){return e.has(n)}},4871:(e,n,t)=>{var a=t(5386),o=t(7064),r=t(9950);e.exports=function(e,n,t,l,u,i){var c=1&t,s=e.length,p=n.length;if(s!=p&&!(c&&p>s))return!1;var f=i.get(e),d=i.get(n);if(f&&d)return f==n&&d==e;var g=-1,v=!0,m=2&t?new a:void 0;for(i.set(e,n),i.set(n,e);++g<s;){var h=e[g],y=n[g];if(l)var w=c?l(y,h,g,n,e,i):l(h,y,g,e,n,i);if(void 0!==w){if(w)continue;v=!1;break}if(m){if(!o(n,(function(e,n){if(!r(m,n)&&(h===e||u(h,e,t,l,i)))return m.push(n)}))){v=!1;break}}else if(h!==y&&!u(h,y,t,l,i)){v=!1;break}}return i.delete(e),i.delete(n),v}},1491:(e,n,t)=>{var a=t(857),o=t(9162),r=t(1225),l=t(4871),u=t(5179),i=t(4207),c=a?a.prototype:void 0,s=c?c.valueOf:void 0;e.exports=function(e,n,t,a,c,p,f){switch(t){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!p(new o(e),new o(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var d=u;case"[object Set]":var g=1&a;if(d||(d=i),e.size!=n.size&&!g)return!1;var v=f.get(e);if(v)return v==n;a|=2,f.set(e,n);var m=l(d(e),d(n),a,c,p,f);return f.delete(e),m;case"[object Symbol]":if(s)return s.call(e)==s.call(n)}return!1}},7416:(e,n,t)=>{var a=t(3483),o=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,r,l,u){var i=1&t,c=a(e),s=c.length;if(s!=a(n).length&&!i)return!1;for(var p=s;p--;){var f=c[p];if(!(i?f in n:o.call(n,f)))return!1}var d=u.get(e),g=u.get(n);if(d&&g)return d==n&&g==e;var v=!0;u.set(e,n),u.set(n,e);for(var m=i;++p<s;){var h=e[f=c[p]],y=n[f];if(r)var w=i?r(y,h,f,n,e,u):r(h,y,f,e,n,u);if(!(void 0===w?h===y||l(h,y,t,r,u):w)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var b=e.constructor,_=n.constructor;b==_||!("constructor"in e)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(v=!1)}return u.delete(e),u.delete(n),v}},5179:e=>{e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e,a){t[++n]=[a,e]})),t}},2842:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2482:e=>{e.exports=function(e){return this.__data__.has(e)}},4207:e=>{e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e){t[++n]=e})),t}},8149:(e,n,t)=>{var a=t(8746);e.exports=function(e,n){return a(e,n)}},4846:(e,n,t)=>{"use strict";t(223);var a=t(225),o=t(7875),r=t(349);const l={"data-test":"now-playing-text"};var u=t(641),i=t(882);const c=nodecg.Replicant("nowPlayingSource"),s=nodecg.Replicant("nowPlaying"),p=nodecg.Replicant("manualNowPlaying"),f=nodecg.Replicant("musicShown"),d=[c,s,p,f],g=(0,i.Q_)("music",{state:()=>({nowPlayingSource:null,nowPlaying:{},manualNowPlaying:{},musicShown:null}),actions:{setMusicShown(e){f.value=e},setNowPlayingSource(e){c.value=e},setManualNowPlaying(e){p.value=e}}});var v=t(8127),m=t(9850),h=t.n(m),y=t(8149),w=t.n(y);const b=(0,o.aZ)({name:"ManualSongEditor",components:{IplButton:v.IplButton,IplInput:v.IplInput,IplCheckbox:v.IplCheckbox,IplExpandingSpace:v.IplExpandingSpace},setup(){const e=g(),n=(0,u.iH)(h()(e.manualNowPlaying)),t=(0,u.Fl)((()=>!w()(e.manualNowPlaying,n.value))),a=(0,u.iH)(!1);return(0,o.YP)((()=>e.manualNowPlaying),(e=>{a.value||(n.value=h()(e))})),{RIGHT_CLICK_UNDO_MESSAGE:"Right-click to undo changes.",nowPlayingSource:(0,u.Fl)({get:()=>"manual"===e.nowPlayingSource,set(n){e.setNowPlayingSource(n?"manual":"lastfm")}}),handleFocusEvent(e){a.value=e},buttonColor:(0,u.Fl)((()=>t.value?"red":"blue")),manualNowPlaying:n,handleUpdate(){t.value&&e.setManualNowPlaying(n.value)},undo(t){t.preventDefault(),n.value=h()(e.manualNowPlaying)}}}});var _=t(4407);const P=(0,_.Z)(b,[["render",function(e,n,t,a,r,l){const u=(0,o.up)("ipl-checkbox"),i=(0,o.up)("ipl-input"),c=(0,o.up)("ipl-button"),s=(0,o.up)("ipl-expanding-space");return(0,o.wg)(),(0,o.j4)(s,{title:"Change song manually"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{modelValue:e.nowPlayingSource,"onUpdate:modelValue":n[0]||(n[0]=n=>e.nowPlayingSource=n),label:"Enable","data-test":"enable-manual-input-checkbox"},null,8,["modelValue"]),(0,o.Wm)(i,{modelValue:e.manualNowPlaying.artist,"onUpdate:modelValue":n[1]||(n[1]=n=>e.manualNowPlaying.artist=n),name:"artist",label:"Artist",class:"m-t-6",onFocuschange:e.handleFocusEvent},null,8,["modelValue","onFocuschange"]),(0,o.Wm)(i,{modelValue:e.manualNowPlaying.song,"onUpdate:modelValue":n[2]||(n[2]=n=>e.manualNowPlaying.song=n),name:"song",label:"Song",onFocuschange:e.handleFocusEvent},null,8,["modelValue","onFocuschange"]),(0,o.Wm)(c,{label:"Update",color:e.buttonColor,class:"m-t-8","data-test":"manual-song-update-button",title:e.RIGHT_CLICK_UNDO_MESSAGE,onClick:e.handleUpdate,onRightClick:e.undo},null,8,["color","title","onClick","onRightClick"])])),_:1})}]]);var S=t(6349);const x=(0,o.aZ)({name:"Music",components:{IplErrorDisplay:S.Z,ManualSongEditor:P,IplLabel:v.IplLabel,IplToggle:v.IplToggle,IplSpace:v.IplSpace},setup(){const e=g(),n={lastfm:"Last.fm",manual:"Manual"};return{nowPlaying:(0,u.Fl)((()=>{const n=e.nowPlaying,t=[n.artist,n.song].filter((e=>!(0,v.isBlank)(e))).join(" - ");return(0,v.isBlank)(t)?"No song is currently playing.":t})),nowPlayingSource:(0,u.Fl)((()=>n[e.nowPlayingSource])),musicShown:(0,u.Fl)({get:()=>e.musicShown,set(n){e.setMusicShown(n)}})}}}),j=(0,_.Z)(x,[["render",function(e,n,t,a,u,i){const c=(0,o.up)("ipl-error-display"),s=(0,o.up)("ipl-toggle"),p=(0,o.up)("ipl-space"),f=(0,o.up)("ipl-label"),d=(0,o.up)("manual-song-editor");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c,{class:"m-b-8"}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:e.musicShown,"onUpdate:modelValue":n[0]||(n[0]=n=>e.musicShown=n),"data-test":"music-shown-toggle"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(p,{class:"m-t-8"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Now Playing ("+(0,r.zw)(e.nowPlayingSource)+")",1)])),_:1}),(0,o._)("p",l,(0,r.zw)(e.nowPlaying),1)])),_:1}),(0,o.Wm)(d,{class:"m-t-8"})],64)}]]);var O,k,I=t(4825),N=t(4928);k=function*(){const e=(0,I.ri)(j);e.use((0,i.WB)()),(0,N.E)(e),yield(0,a._)(d,g()),e.mount("#app")},new((O=void 0)||(O=Promise))((function(e,n){function t(e){try{o(k.next(e))}catch(e){n(e)}}function a(e){try{o(k.throw(e))}catch(e){n(e)}}function o(n){var o;n.done?e(n.value):(o=n.value,o instanceof O?o:new O((function(e){e(o)}))).then(t,a)}o((k=k.apply(void 0,[])).next())}))}},t={};function a(e){var o=t[e];if(void 0!==o)return o.exports;var r=t[e]={id:e,loaded:!1,exports:{}};return n[e](r,r.exports,a),r.loaded=!0,r.exports}a.m=n,e=[],a.O=(n,t,o,r)=>{if(!t){var l=1/0;for(s=0;s<e.length;s++){for(var[t,o,r]=e[s],u=!0,i=0;i<t.length;i++)(!1&r||l>=r)&&Object.keys(a.O).every((e=>a.O[e](t[i])))?t.splice(i--,1):(u=!1,r<l&&(l=r));if(u){e.splice(s--,1);var c=o();void 0!==c&&(n=c)}}return n}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[t,o,r]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={106:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var o,r,[l,u,i]=t,c=0;if(l.some((n=>0!==e[n]))){for(o in u)a.o(u,o)&&(a.m[o]=u[o]);if(i)var s=i(a)}for(n&&n(t);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[l[c]]=0;return a.O(s)},t=self.webpackChunk=self.webpackChunk||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var o=a.O(void 0,[385,882],(()=>a(4846)));o=a.O(o)})();