(()=>{"use strict";var e,n={1459:(e,n)=>{n.DF={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},n.xi=n.DF},5609:(e,n,o)=>{o.d(n,{Z:()=>r});var t=o(9601),a=o.n(t),l=o(2609),d=o.n(l)()(a());d.push([e.id,".separator[data-v-12798f22]{width:100%;text-align:center;border-bottom:1px solid #fff;color:#fff;line-height:.1em;margin:14px 0 10px;user-select:none}.separator span[data-v-12798f22]{background:#262f40;padding:0 10px}",""]);const r=d},4247:(e,n,o)=>{o.d(n,{Z:()=>r});var t=o(9601),a=o.n(t),l=o(2609),d=o.n(l)()(a());d.push([e.id,'.top-bar-button[data-v-6c756cd6]{padding:10px 20px;width:max-content}.color-key[data-v-6c756cd6]{height:18px;width:18px;border-radius:5px;margin:0 8px}.color-key[data-v-6c756cd6]:first-child{margin-left:0}.color-key.color-key-next[data-v-6c756cd6]{background-color:#ffc700}.round-option[data-v-6c756cd6]{position:relative;overflow-wrap:anywhere}.round-option.is-next-round[data-v-6c756cd6]{padding-right:16px}.round-option.is-next-round[data-v-6c756cd6]:after{border-radius:0 7px 7px 0;content:"";position:absolute;width:calc(100% - 8px);height:100%;left:0;top:0;border-right:8px solid #ffc700}',""]);const r=d},8764:(e,n,o)=>{o(223);var t=o(225),a=o(7875),l=o(349);const d=(e=>((0,a.dD)("data-v-6c756cd6"),e=e(),(0,a.Cn)(),e))((()=>(0,a._)("div",{class:"color-key color-key-next"},null,-1))),r={class:"layout horizontal"};var u=o(641),i=o(8127),s=o(2782),c=o(8149),p=o.n(c),m=o(9850),v=o.n(m);const g={class:"separator"},f={class:"layout horizontal m-t-8"};var y,h=o(1674),w=o(4847);!function(e){e.PLAY_ALL="PLAY_ALL",e.BEST_OF="BEST_OF"}(y||(y={}));var b=o(9546);class R{static toPrettyString(e,n){const o=n?` ${n}`:"";return{[y.PLAY_ALL]:`Play all${o}`,[y.BEST_OF]:`Best of${o}`}[e]}static fromBattlefySeriesStyle(e){switch(null==e?void 0:e.toLowerCase()){case"gamespermatch":return y.PLAY_ALL;case"bestof":return y.BEST_OF;default:return}}static fromSmashggSetGamesType(e){switch(e){case 1:return y.BEST_OF;case 2:return y.PLAY_ALL;default:return}}}var I=o(6475),S=o(2904);h.vI.add(w.NB);const _=(0,a.aZ)({name:"RoundEditor",components:{StageSelect:S.Z,ModeSelect:I.Z,IplRadio:i.IplRadio,IplSpace:i.IplSpace,IplButton:i.IplButton,IplInput:i.IplInput},props:{round:{type:Object,required:!0},roundId:{type:String,required:!0},isNewRound:{type:Boolean,required:!0}},emits:["cancelNewRound","createNewRound"],setup(e,{emit:n}){const o=(0,s.R)(),t=(0,u.iH)(null);return(0,a.YP)((()=>e.round),((e,n)=>{t.value=Object.assign(Object.assign({},e),{meta:v()(e.meta),games:e.games.map(((e,o)=>{var a,l;const d=null==n?void 0:n.games[o],r=Object.assign({},null===(l=null===(a=t.value)||void 0===a?void 0:a.games)||void 0===l?void 0:l[o]);return(null==d?void 0:d.mode)!==e.mode&&(r.mode=e.mode),(null==d?void 0:d.stage)!==e.stage&&(r.stage=e.stage),r}))})}),{immediate:!0}),{RIGHT_CLICK_UNDO_MESSAGE:b.m,roundInternal:t,handleUpdate(){return a=this,l=void 0,r=function*(){const a={roundName:t.value.meta.name,type:t.value.meta.type,games:t.value.games.map((e=>({mode:e.mode,stage:e.stage})))};if(e.isNewRound){const t=yield o.insertRound(a);e.isNewRound&&n("createNewRound",t.id)}else yield o.updateRound(Object.assign({id:e.roundId},a))},new((d=void 0)||(d=Promise))((function(e,n){function o(e){try{u(r.next(e))}catch(e){n(e)}}function t(e){try{u(r.throw(e))}catch(e){n(e)}}function u(n){var a;n.done?e(n.value):(a=n.value,a instanceof d?a:new d((function(e){e(a)}))).then(o,t)}u((r=r.apply(a,l||[])).next())}));var a,l,d,r},handleDelete(){if(!e.isNewRound)return o.removeRound({roundId:e.roundId});n("cancelNewRound")},isChanged:(0,a.Fl)((()=>{var n,o;return e.round.meta.name!==(null===(n=t.value)||void 0===n?void 0:n.meta.name)||e.round.meta.type!==(null===(o=t.value)||void 0===o?void 0:o.meta.type)||e.round.games.some(((e,n)=>{var o;const a=null===(o=t.value)||void 0===o?void 0:o.games[n];return e.mode!==a.mode||e.stage!==a.stage}))})),typeOptions:(0,a.Fl)((()=>Object.values(y).map((e=>({value:e,name:R.toPrettyString(e,t.value.games.length)}))))),undoChanges(n){e.isNewRound||(n.preventDefault(),t.value=v()(e.round))}}}});var k=o(6062),x=o.n(k),O=o(4036),C=o.n(O),N=o(6793),j=o.n(N),E=o(7892),A=o.n(E),H=o(1173),L=o.n(H),P=o(2464),T=o.n(P),W=o(5609),Z={};Z.styleTagTransform=T(),Z.setAttributes=A(),Z.insert=j().bind(null,"head"),Z.domAPI=C(),Z.insertStyleElement=L(),x()(W.Z,Z),W.Z&&W.Z.locals&&W.Z.locals;var U=o(4407);const B=(0,U.Z)(_,[["render",function(e,n,o,t,d,r){const u=(0,a.up)("ipl-input"),i=(0,a.up)("ipl-radio"),s=(0,a.up)("mode-select"),c=(0,a.up)("stage-select"),p=(0,a.up)("ipl-button"),m=(0,a.up)("ipl-space");return(0,a.wg)(),(0,a.j4)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.roundInternal.meta.name,"onUpdate:modelValue":n[0]||(n[0]=n=>e.roundInternal.meta.name=n),label:"Name",name:"round-name"},null,8,["modelValue"]),(0,a.Wm)(i,{modelValue:e.roundInternal.meta.type,"onUpdate:modelValue":n[1]||(n[1]=n=>e.roundInternal.meta.type=n),name:"round-type",label:"Type",class:"m-t-4",options:e.typeOptions},null,8,["modelValue","options"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.roundInternal.games,((e,n)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:`game-editor-${n}`},[(0,a._)("div",g,[(0,a._)("span",null,(0,l.zw)(n+1),1)]),(0,a.Wm)(s,{modelValue:e.mode,"onUpdate:modelValue":n=>e.mode=n},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(c,{modelValue:e.stage,"onUpdate:modelValue":n=>e.stage=n,class:"m-t-8"},null,8,["modelValue","onUpdate:modelValue"])],64)))),128)),(0,a._)("div",f,[(0,a.Wm)(p,{label:e.isNewRound?"Save":"Update",color:e.isNewRound?"green":e.isChanged?"red":"blue",title:e.isNewRound?void 0:e.RIGHT_CLICK_UNDO_MESSAGE,onClick:e.handleUpdate,onRightClick:e.undoChanges},null,8,["label","color","title","onClick","onRightClick"]),(0,a.Wm)(p,{icon:"times",class:"m-l-6",color:"red",onClick:e.handleDelete},null,8,["onClick"])])])),_:1})}],["__scopeId","data-v-12798f22"]]);var F=o(1459),V=o(1901),D=o(417),Y=o(8942);h.vI.add(F.xi);const M=(0,a.aZ)({name:"Rounds",components:{IplErrorDisplay:Y.Z,IplExpandingSpace:i.IplExpandingSpace,IplSidebar:i.IplSidebar,RoundEditor:B,IplButton:i.IplButton,IplSpace:i.IplSpace,FontAwesomeIcon:V.GN},setup(){const e=(0,s.R)(),n=(0,D.o)(),o=(0,u.iH)({}),t=(0,u.iH)(Object.keys(e.roundStore)[0]),l=(0,u.iH)(!1),d=(0,u.iH)({}),r=(0,u.iH)(!1);return(0,a.YP)((()=>e.roundStore),((e,n)=>{e[t.value]||(t.value=Object.keys(e)[0]),Object.entries(e).forEach((([e,t])=>{p()(t,null==n?void 0:n[e])||(o.value[e]=v()(t))})),Object.keys(o.value).forEach((n=>{e[n]||delete o.value[n]}))}),{immediate:!0,deep:!0}),{rounds:o,selectedRoundId:t,selectedRound:(0,a.Fl)((()=>e.roundStore[t.value])),resetRounds(){e.resetRoundStore()},openRoundSidebar:l,selectRound(e){r.value=!1,l.value=!1,t.value=e},createRound(e){d.value={meta:{name:"New Round",type:y.BEST_OF},games:Array(e).fill({mode:"Unknown Mode",stage:"Unknown Stage"})},r.value=!0},creatingNewRound:r,newRound:d,nextRoundId:(0,a.Fl)((()=>n.nextRound.round.id))}}});var z=o(4247),G={};G.styleTagTransform=T(),G.setAttributes=A(),G.insert=j().bind(null,"head"),G.domAPI=C(),G.insertStyleElement=L(),x()(z.Z,G),z.Z&&z.Z.locals&&z.Z.locals;const q=(0,U.Z)(M,[["render",function(e,n,o,t,u,i){const s=(0,a.up)("ipl-error-display"),c=(0,a.up)("ipl-button"),p=(0,a.up)("ipl-space"),m=(0,a.up)("ipl-sidebar"),v=(0,a.up)("ipl-expanding-space"),g=(0,a.up)("font-awesome-icon"),f=(0,a.up)("round-editor");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s,{class:"m-b-8"}),(0,a.Wm)(m,{"is-open":e.openRoundSidebar,"onUpdate:isOpen":n[0]||(n[0]=n=>e.openRoundSidebar=n)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{color:"red",label:"Reset rounds","requires-confirmation":"",onClick:e.resetRounds},null,8,["onClick"])])),_:1}),(0,a.Wm)(p,{class:"layout horizontal m-t-8",color:"light"},{default:(0,a.w5)((()=>[d,(0,a.Uk)(" Next round ")])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.rounds,((n,o)=>((0,a.wg)(),(0,a.j4)(p,{key:`round_${o}`,color:e.selectedRoundId===o?"blue":"light",class:(0,l.C_)(["m-t-8 round-option",{"is-next-round":e.nextRoundId===o}]),clickable:"",onClick:n=>e.selectRound(o)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(n.meta.name),1)])),_:2},1032,["color","class","onClick"])))),128))])),_:1},8,["is-open"]),(0,a.Wm)(v,{title:"Create Round"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(c,{label:"3 Games",color:"green",onClick:n[1]||(n[1]=n=>e.createRound(3))}),(0,a.Wm)(c,{label:"5 Games",color:"green",class:"m-l-6",onClick:n[2]||(n[2]=n=>e.createRound(5))})]),(0,a.Wm)(c,{label:"7 Games",color:"green",class:"m-t-6",onClick:n[3]||(n[3]=n=>e.createRound(7))})])),_:1}),(0,a.Wm)(p,{class:"layout horizontal center-vertical round-menu-space m-t-8",clickable:"",onClick:n[4]||(n[4]=n=>e.openRoundSidebar=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{icon:"bars",class:"large-icon m-r-8"}),(0,a.Uk)(" All Rounds ")])),_:1}),e.selectedRound?((0,a.wg)(),(0,a.j4)(f,{key:0,class:"m-t-8","round-id":e.selectedRoundId,round:e.creatingNewRound?e.newRound:e.selectedRound,"is-new-round":e.creatingNewRound,onCancelNewRound:n[5]||(n[5]=n=>e.creatingNewRound=!1),onCreateNewRound:e.selectRound},null,8,["round-id","round","is-new-round","onCreateNewRound"])):(0,a.kq)("",!0)],64)}],["__scopeId","data-v-6c756cd6"]]);var K,$,Q=o(4825),J=o(6060),X=o(4928),ee=o(7997),ne=o(5471);$=function*(){const e=(0,Q.ri)(q);e.use((0,ne.WB)()),yield(0,t._)(ee.Z,(0,ee.F)()),yield(0,t._)(s.K,(0,s.R)()),yield(0,t._)(D.Q,(0,D.o)()),yield(0,t._)(J.B,(0,J.O)()),(0,X.E)(e),e.mount("#app")},new((K=void 0)||(K=Promise))((function(e,n){function o(e){try{a($.next(e))}catch(e){n(e)}}function t(e){try{a($.throw(e))}catch(e){n(e)}}function a(n){var a;n.done?e(n.value):(a=n.value,a instanceof K?a:new K((function(e){e(a)}))).then(o,t)}a(($=$.apply(void 0,[])).next())}))}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var l=o[e]={id:e,loaded:!1,exports:{}};return n[e](l,l.exports,t),l.loaded=!0,l.exports}t.m=n,e=[],t.O=(n,o,a,l)=>{if(!o){var d=1/0;for(s=0;s<e.length;s++){for(var[o,a,l]=e[s],r=!0,u=0;u<o.length;u++)(!1&l||d>=l)&&Object.keys(t.O).every((e=>t.O[e](o[u])))?o.splice(u--,1):(r=!1,l<d&&(d=l));if(r){e.splice(s--,1);var i=a();void 0!==i&&(n=i)}}return n}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,a,l]},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={89:0};t.O.j=n=>0===e[n];var n=(n,o)=>{var a,l,[d,r,u]=o,i=0;if(d.some((n=>0!==e[n]))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(u)var s=u(t)}for(n&&n(o);i<d.length;i++)l=d[i],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(s)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))})(),t.nc=void 0;var a=t.O(void 0,[13,471,901,865,142],(()=>t(8764)));a=t.O(a)})();