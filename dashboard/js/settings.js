(()=>{var t,e={217:t=>{t.exports=function(t){return t.split("")}},1359:t=>{t.exports=function(t,e,n,a){for(var r=t.length,u=n+(a?1:-1);a?u--:++u<r;)if(e(t[u],u,t))return u;return-1}},7832:(t,e,n)=>{var a=n(1359),r=n(2195),u=n(6024);t.exports=function(t,e,n){return e==e?u(t,e,n):a(t,r,n)}},2195:t=>{t.exports=function(t){return t!=t}},9872:t=>{t.exports=function(t,e,n){var a=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var u=Array(r);++a<r;)u[a]=t[a+e];return u}},1704:(t,e,n)=>{var a=n(2153),r=/^\s+/;t.exports=function(t){return t?t.slice(0,a(t)+1).replace(r,""):t}},3895:(t,e,n)=>{var a=n(9872);t.exports=function(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:a(t,e,n)}},768:(t,e,n)=>{var a=n(7832);t.exports=function(t,e){for(var n=t.length;n--&&a(e,t[n],0)>-1;);return n}},1821:(t,e,n)=>{var a=n(7832);t.exports=function(t,e){for(var n=-1,r=t.length;++n<r&&a(e,t[n],0)>-1;);return n}},3880:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},6024:t=>{t.exports=function(t,e,n){for(var a=n-1,r=t.length;++a<r;)if(t[a]===e)return a;return-1}},8435:(t,e,n)=>{var a=n(217),r=n(3880),u=n(3344);t.exports=function(t){return r(t)?u(t):a(t)}},2153:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},3344:t=>{var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+e+"|"+n+")?",l="[\\ufe0e\\ufe0f]?",i=l+o+"(?:\\u200d(?:"+[a,r,u].join("|")+")"+l+o+")*",s="(?:"+[a+e+"?",e,r,u,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(n+"(?="+n+")|"+s+i,"g");t.exports=function(t){return t.match(d)||[]}},5455:(t,e,n)=>{var a=n(6411),r=n(940),u=n(9631),o=n(6152),l=n(7878),i=n(3226),s=n(6001),d=n(7598),c=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(l(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||i(t)||d(t)||u(t)))return!t.length;var e=r(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(s(t))return!a(t).length;for(var n in t)if(c.call(t,n))return!1;return!0}},5648:(t,e,n)=>{var a=n(1054),r=n(1704),u=n(3895),o=n(768),l=n(1821),i=n(8435),s=n(6188);t.exports=function(t,e,n){if((t=s(t))&&(n||void 0===e))return r(t);if(!t||!(e=a(e)))return t;var d=i(t),c=i(e),p=l(d,c),f=o(d,c)+1;return u(d,p,f).join("")}},3181:(t,e,n)=>{"use strict";n(223);var a=n(225),r=n(243),u=n(9850),o=n.n(u);const l=nodecg.Replicant("lastFmSettings"),i=nodecg.Replicant("radiaSettings"),s=[l,i],d=(0,r.MT)({state:{lastFmSettings:{},radiaSettings:{guildID:null,enabled:null,updateOnImport:null}},mutations:{setState(t,{name:e,val:n}){this.state[e]=o()(n)},setLastFmSettings(t,{newValue:e}){l.value=e},setRadiaSettings(t,{newValue:e}){i.value=e},setUpdateOnImport(t,e){i.value.updateOnImport=e}},actions:{attemptRadiaConnection(){return t=this,e=void 0,a=function*(){return nodecg.sendMessage("retryRadiaAvailabilityCheck")},new((n=void 0)||(n=Promise))((function(r,u){function o(t){try{i(a.next(t))}catch(t){u(t)}}function l(t){try{i(a.throw(t))}catch(t){u(t)}}function i(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}i((a=a.apply(t,e||[])).next())}));var t,e,n,a}}}),c=Symbol();function p(){return(0,r.oR)(c)}var f=n(7875);const m=(0,f._)("div",{class:"title"},"Last.fm",-1);var v=n(641),g=n(8127),h=n(8149),b=n.n(h);const I=(0,f.aZ)({name:"LastfmSettings",components:{IplButton:g.IplButton,IplInput:g.IplInput,IplSpace:g.IplSpace},setup(){const t=(0,v.iH)(!1),e=(0,v.Fl)((()=>!b()(a.value,n.state.lastFmSettings))),n=p(),a=(0,v.iH)(o()(n.state.lastFmSettings));return n.watch((t=>t.lastFmSettings),(e=>{t.value||(a.value=o()(e))}),{deep:!0}),{focused:t,handleFocusEvent(e){t.value=e},isChanged:e,buttonColor:(0,v.Fl)((()=>e.value?"red":"blue")),settings:a,handleUpdate(){e.value&&n.commit("setLastFmSettings",{newValue:a.value})}}}});var y=n(4407);const S=(0,y.Z)(I,[["render",function(t,e,n,a,r,u){const o=(0,f.up)("ipl-input"),l=(0,f.up)("ipl-button"),i=(0,f.up)("ipl-space");return(0,f.wg)(),(0,f.j4)(i,null,{default:(0,f.w5)((()=>[m,(0,f.Wm)(o,{modelValue:t.settings.username,"onUpdate:modelValue":e[0]||(e[0]=e=>t.settings.username=e),name:"username",label:"Username",onFocuschange:t.handleFocusEvent},null,8,["modelValue","onFocuschange"]),(0,f.Wm)(l,{label:"Update",class:"m-t-8",color:t.buttonColor,"data-test":"update-button",onClick:t.handleUpdate},null,8,["color","onClick"])])),_:1})}]]),w=(0,f.Uk)(" Radia integration is disabled. "),x=(0,f._)("div",{class:"title"},"Radia",-1);var O=n(3888),F=n.n(O);function V(t,e,...n){const a=(0,v.qj)({isValid:null});return(0,f.YP)(t,(t=>{for(let e=0;e<n.length;e++){const r=n[e](t);if(!r.isValid){a.isValid=!1,a.message=r.message;break}a.isValid=!0,a.message=null}}),{immediate:e}),a}function k(t,e,n){const a=(r=e,new Intl.NumberFormat("en-US").format(r));var r;return 1===e?`${a} ${t}`:n?`${a} ${n}`:`${a} ${t}s`}n(5648);var j=n(5455),C=n.n(j);const R=t=>({isValid:C()(t)||/^\d*$/.test(t),message:"Must be numeric"});const U=(0,f.aZ)({name:"RadiaSettings",components:{IplCheckbox:g.IplCheckbox,IplButton:g.IplButton,IplInput:g.IplInput,IplSpace:g.IplSpace,IplMessage:g.IplMessage},setup(){const t=p(),e=(0,v.iH)(!1),n=(0,v.Fl)((()=>!b()(F()(a.value,["guildID"]),F()(t.state.radiaSettings,["guildID"])))),a=(0,v.iH)(o()(t.state.radiaSettings)),r={guildId:V((()=>a.value.guildID),!0,(17,t=>({isValid:C()(t)||t.length>=17,message:`Must be at least ${k("character",17)}`})),R)};return t.watch((t=>t.radiaSettings.guildID),(t=>{e.value||(a.value.guildID=t)})),t.watch((t=>t.radiaSettings.updateOnImport),(t=>{a.value.updateOnImport=t})),{radiaEnabled:(0,v.Fl)((()=>t.state.radiaSettings.enabled)),focused:e,handleFocusEvent(t){e.value=t},isChanged:n,isValid:(0,v.Fl)((()=>function(t){return Object.values(t).every((t=>t.isValid))}(r))),buttonColor:(0,v.Fl)((()=>n.value?"red":"blue")),settings:a,handleUpdate(){n.value&&t.commit("setRadiaSettings",{newValue:a.value})},setUpdateOnImport(e){t.commit("setUpdateOnImport",e)},attemptRadiaReconnect(){return e=this,n=void 0,r=function*(){return t.dispatch("attemptRadiaConnection")},new((a=void 0)||(a=Promise))((function(t,u){function o(t){try{i(r.next(t))}catch(t){u(t)}}function l(t){try{i(r.throw(t))}catch(t){u(t)}}function i(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(o,l)}i((r=r.apply(e,n||[])).next())}));var e,n,a,r},v:r}}}),D=(0,y.Z)(U,[["render",function(t,e,n,a,r,u){const o=(0,f.up)("ipl-button"),l=(0,f.up)("ipl-message"),i=(0,f.up)("ipl-input"),s=(0,f.up)("ipl-checkbox"),d=(0,f.up)("ipl-space");return(0,f.wg)(),(0,f.j4)(d,null,{default:(0,f.w5)((()=>[t.radiaEnabled?(0,f.kq)("",!0):((0,f.wg)(),(0,f.j4)(l,{key:0,type:"warning",class:"m-b-8","data-test":"radia-disabled-warning"},{default:(0,f.w5)((()=>[w,(0,f.Wm)(o,{small:"",label:"Attempt to connect",class:"m-t-6",color:"yellow","data-test":"radia-connect-button",async:"",onClick:t.attemptRadiaReconnect},null,8,["onClick"])])),_:1})),x,(0,f.Wm)(i,{modelValue:t.settings.guildID,"onUpdate:modelValue":e[0]||(e[0]=e=>t.settings.guildID=e),name:"guild-id",label:"Guild ID",validator:t.v.guildId,onFocuschange:t.handleFocusEvent},null,8,["modelValue","validator","onFocuschange"]),(0,f.Wm)(o,{label:"Update","data-test":"update-button",class:"m-t-8",color:t.buttonColor,disabled:!t.isValid,onClick:t.handleUpdate},null,8,["color","disabled","onClick"]),(0,f.Wm)(s,{modelValue:t.settings.updateOnImport,"onUpdate:modelValue":[e[1]||(e[1]=e=>t.settings.updateOnImport=e),t.setUpdateOnImport],class:"m-t-8",label:"Update tournament data on import","data-test":"update-on-import-checkbox"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})}]]);var E=n(2121);const M=(0,f.aZ)({name:"Settings",components:{IplErrorDisplay:E.Z,RadiaSettings:D,LastfmSettings:S}}),W=(0,y.Z)(M,[["render",function(t,e,n,a,r,u){const o=(0,f.up)("ipl-error-display"),l=(0,f.up)("lastfm-settings"),i=(0,f.up)("radia-settings");return(0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f.Wm)(o,{class:"m-b-8"}),(0,f.Wm)(l),(0,f.Wm)(i,{class:"m-t-8"})],64)}]]);var _=n(4825),P=n(4928);(0,a.r)(s,d).then((()=>{const t=(0,_.ri)(W);(0,P.EW)(t),t.use(d,c),t.mount("#app")}))}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var u=n[t]={id:t,loaded:!1,exports:{}};return e[t](u,u.exports,a),u.loaded=!0,u.exports}a.m=e,t=[],a.O=(e,n,r,u)=>{if(!n){var o=1/0;for(d=0;d<t.length;d++){for(var[n,r,u]=t[d],l=!0,i=0;i<n.length;i++)(!1&u||o>=u)&&Object.keys(a.O).every((t=>a.O[t](n[i])))?n.splice(i--,1):(l=!1,u<o&&(o=u));if(l){t.splice(d--,1);var s=r();void 0!==s&&(e=s)}}return e}u=u||0;for(var d=t.length;d>0&&t[d-1][2]>u;d--)t[d]=t[d-1];t[d]=[n,r,u]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={571:0};a.O.j=e=>0===t[e];var e=(e,n)=>{var r,u,[o,l,i]=n,s=0;if(o.some((e=>0!==t[e]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var d=i(a)}for(e&&e(n);s<o.length;s++)u=o[s],a.o(t,u)&&t[u]&&t[u][0](),t[o[s]]=0;return a.O(d)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var r=a.O(void 0,[498,932],(()=>a(3181)));r=a.O(r)})();