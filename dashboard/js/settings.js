(()=>{var t,e={5455:(t,e,n)=>{var a=n(6411),l=n(940),o=n(9631),i=n(6152),r=n(7878),s=n(3226),u=n(6001),d=n(7598),c=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(r(t)&&(i(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||d(t)||o(t)))return!t.length;var e=l(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(u(t))return!a(t).length;for(var n in t)if(c.call(t,n))return!1;return!0}},5648:(t,e,n)=>{var a=n(1054),l=n(1704),o=n(3895),i=n(768),r=n(1821),s=n(8435),u=n(6188);t.exports=function(t,e,n){if((t=u(t))&&(n||void 0===e))return l(t);if(!t||!(e=a(e)))return t;var d=s(t),c=s(e),p=r(d,c),m=i(d,c)+1;return o(d,p,m).join("")}},9134:(t,e,n)=>{"use strict";n(223);var a=n(225),l=n(243),o=n(9850),i=n.n(o);const r=nodecg.Replicant("lastFmSettings"),s=nodecg.Replicant("radiaSettings"),u=[r,s],d=(0,l.MT)({state:{lastFmSettings:{},radiaSettings:{guildID:null,enabled:null,updateOnImport:null}},mutations:{setState(t,{name:e,val:n}){this.state[e]=i()(n)},setLastFmSettings(t,{newValue:e}){r.value=e},setRadiaSettings(t,{newValue:e}){s.value=e},setUpdateOnImport(t,e){s.value.updateOnImport=e}},actions:{attemptRadiaConnection(){return t=this,e=void 0,a=function*(){return nodecg.sendMessage("retryRadiaAvailabilityCheck")},new((n=void 0)||(n=Promise))((function(l,o){function i(t){try{s(a.next(t))}catch(t){o(t)}}function r(t){try{s(a.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?l(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,r)}s((a=a.apply(t,e||[])).next())}));var t,e,n,a}}}),c=Symbol();function p(){return(0,l.oR)(c)}var m=n(7875);const g=(0,m._)("div",{class:"title"},"Last.fm",-1);var v=n(641),f=n(8127),h=n(8149),b=n.n(h);const I=(0,m.aZ)({name:"LastfmSettings",components:{IplButton:f.IplButton,IplInput:f.IplInput,IplSpace:f.IplSpace},setup(){const t=(0,v.iH)(!1),e=(0,v.Fl)((()=>!b()(a.value,n.state.lastFmSettings))),n=p(),a=(0,v.iH)(i()(n.state.lastFmSettings));return n.watch((t=>t.lastFmSettings),(e=>{t.value||(a.value=i()(e))}),{deep:!0}),{focused:t,handleFocusEvent(e){t.value=e},isChanged:e,buttonColor:(0,v.Fl)((()=>e.value?"red":"blue")),settings:a,handleUpdate(){e.value&&n.commit("setLastFmSettings",{newValue:a.value})}}}});var S=n(4407);const w=(0,S.Z)(I,[["render",function(t,e,n,a,l,o){const i=(0,m.up)("ipl-input"),r=(0,m.up)("ipl-button"),s=(0,m.up)("ipl-space");return(0,m.wg)(),(0,m.j4)(s,null,{default:(0,m.w5)((()=>[g,(0,m.Wm)(i,{modelValue:t.settings.username,"onUpdate:modelValue":e[0]||(e[0]=e=>t.settings.username=e),name:"username",label:"Username",onFocuschange:t.handleFocusEvent},null,8,["modelValue","onFocuschange"]),(0,m.Wm)(r,{label:"Update",class:"m-t-8",color:t.buttonColor,"data-test":"update-button",onClick:t.handleUpdate},null,8,["color","onClick"])])),_:1})}]]),y=(0,m.Uk)(" Radia integration is disabled. "),O=(0,m._)("div",{class:"title"},"Radia",-1);var F=n(3888),k=n.n(F),C=n(6519);function U(t,e,n){const a=(l=e,new Intl.NumberFormat("en-US").format(l));var l;return 1===e?`${a} ${t}`:n?`${a} ${n}`:`${a} ${t}s`}n(5648);var V=n(5455),R=n.n(V);const j=t=>({isValid:R()(t)||/^\d*$/.test(t),message:"Must be numeric"});const x=(0,m.aZ)({name:"RadiaSettings",components:{IplCheckbox:f.IplCheckbox,IplButton:f.IplButton,IplInput:f.IplInput,IplSpace:f.IplSpace,IplMessage:f.IplMessage},setup(){const t=p(),e=(0,v.iH)(!1),n=(0,v.Fl)((()=>!b()(k()(a.value,["guildID"]),k()(t.state.radiaSettings,["guildID"])))),a=(0,v.iH)(i()(t.state.radiaSettings)),l={guildId:(0,C.s)((()=>a.value.guildID),!0,(17,t=>({isValid:R()(t)||t.length>=17,message:`Must be at least ${U("character",17)}`})),j)};return t.watch((t=>t.radiaSettings.guildID),(t=>{e.value||(a.value.guildID=t)})),t.watch((t=>t.radiaSettings.updateOnImport),(t=>{a.value.updateOnImport=t})),{radiaEnabled:(0,v.Fl)((()=>t.state.radiaSettings.enabled)),focused:e,handleFocusEvent(t){e.value=t},isChanged:n,isValid:(0,v.Fl)((()=>(0,C.J)(l))),buttonColor:(0,v.Fl)((()=>n.value?"red":"blue")),settings:a,handleUpdate(){n.value&&t.commit("setRadiaSettings",{newValue:a.value})},setUpdateOnImport(e){t.commit("setUpdateOnImport",e)},attemptRadiaReconnect(){return e=this,n=void 0,l=function*(){return t.dispatch("attemptRadiaConnection")},new((a=void 0)||(a=Promise))((function(t,o){function i(t){try{s(l.next(t))}catch(t){o(t)}}function r(t){try{s(l.throw(t))}catch(t){o(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(i,r)}s((l=l.apply(e,n||[])).next())}));var e,n,a,l},v:l}}}),D=(0,S.Z)(x,[["render",function(t,e,n,a,l,o){const i=(0,m.up)("ipl-button"),r=(0,m.up)("ipl-message"),s=(0,m.up)("ipl-input"),u=(0,m.up)("ipl-checkbox"),d=(0,m.up)("ipl-space");return(0,m.wg)(),(0,m.j4)(d,null,{default:(0,m.w5)((()=>[t.radiaEnabled?(0,m.kq)("",!0):((0,m.wg)(),(0,m.j4)(r,{key:0,type:"warning",class:"m-b-8","data-test":"radia-disabled-warning"},{default:(0,m.w5)((()=>[y,(0,m.Wm)(i,{small:"",label:"Attempt to connect",class:"m-t-6",color:"yellow","data-test":"radia-connect-button",async:"",onClick:t.attemptRadiaReconnect},null,8,["onClick"])])),_:1})),O,(0,m.Wm)(s,{modelValue:t.settings.guildID,"onUpdate:modelValue":e[0]||(e[0]=e=>t.settings.guildID=e),name:"guild-id",label:"Guild ID",validator:t.v.guildId,onFocuschange:t.handleFocusEvent},null,8,["modelValue","validator","onFocuschange"]),(0,m.Wm)(i,{label:"Update","data-test":"update-button",class:"m-t-8",color:t.buttonColor,disabled:!t.isValid,onClick:t.handleUpdate},null,8,["color","disabled","onClick"]),(0,m.Wm)(u,{modelValue:t.settings.updateOnImport,"onUpdate:modelValue":[e[1]||(e[1]=e=>t.settings.updateOnImport=e),t.setUpdateOnImport],class:"m-t-8",label:"Update tournament data on import","data-test":"update-on-import-checkbox"},null,8,["modelValue","onUpdate:modelValue"])])),_:1})}]]);var M=n(2121);const W=(0,m.aZ)({name:"Settings",components:{IplErrorDisplay:M.Z,RadiaSettings:D,LastfmSettings:w}}),E=(0,S.Z)(W,[["render",function(t,e,n,a,l,o){const i=(0,m.up)("ipl-error-display"),r=(0,m.up)("lastfm-settings"),s=(0,m.up)("radia-settings");return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m.Wm)(i,{class:"m-b-8"}),(0,m.Wm)(r),(0,m.Wm)(s,{class:"m-t-8"})],64)}]]);var _=n(4825),$=n(4928);(0,a.r)(u,d).then((()=>{const t=(0,_.ri)(E);(0,$.EW)(t),t.use(d,c),t.mount("#app")}))}},n={};function a(t){var l=n[t];if(void 0!==l)return l.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t](o,o.exports,a),o.loaded=!0,o.exports}a.m=e,t=[],a.O=(e,n,l,o)=>{if(!n){var i=1/0;for(d=0;d<t.length;d++){for(var[n,l,o]=t[d],r=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((t=>a.O[t](n[s])))?n.splice(s--,1):(r=!1,o<i&&(i=o));if(r){t.splice(d--,1);var u=l();void 0!==u&&(e=u)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[n,l,o]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={571:0};a.O.j=e=>0===t[e];var e=(e,n)=>{var l,o,[i,r,s]=n,u=0;if(i.some((e=>0!==t[e]))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(s)var d=s(a)}for(e&&e(n);u<i.length;u++)o=i[u],a.o(t,o)&&t[o]&&t[o][0](),t[i[u]]=0;return a.O(d)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var l=a.O(void 0,[498,553],(()=>a(9134)));l=a.O(l)})();