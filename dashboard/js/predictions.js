(()=>{var e,n={877:(e,n)=>{"use strict";n.DF={prefix:"fas",iconName:"exclamation-triangle",icon:[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]},n.eH=n.DF},864:(e,n)=>{"use strict";n.DF={prefix:"fas",iconName:"info-circle",icon:[512,512,[],"f05a","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"]},n.sq=n.DF},499:()=>{window.addEventListener("DOMContentLoaded",(()=>{function e(e){"true"!==e.dataset.hasConfirmListener&&(e.addEventListener("click",(e=>{const n=e.target;function t(){n.dataset.isClicked="false",n.innerText=n.dataset.originalText,n.style.backgroundColor=""}"true"===n.dataset.isClicked?(n.dispatchEvent(new Event("confirm")),t()):(n.dataset.isClicked="true",n.dataset.originalText=n.innerText,n.style.backgroundColor="var(--red)",n.innerText="are you sure?",setTimeout((()=>{t()}),5e3))})),e.dataset.hasConfirmListener="true")}document.querySelectorAll("button[data-requires-confirmation]").forEach(e),new MutationObserver((n=>{n.forEach((n=>{n.addedNodes.forEach((n=>{n.nodeType===Node.ELEMENT_NODE&&"BUTTON"===n.nodeName&&n.dataset.requiresConfirmation&&e(n)}))}))})).observe(document.body,{subtree:!0,childList:!0})}))},707:(e,n,t)=>{"use strict";var r=t(417),o=t(877),i=t(864),a=(t(283),t(62)),c=t.n(a),d=t(208),s=t.n(d);c()(s(),{insert:"head",singleton:!1}),s().locals,t(499);var l=t(75),u=t.n(l);function p(e){e.style.display="none"}function g(e){e.style.removeProperty("display")}let m,E;function b(e,n){let t,r,o,i=!0;switch(e){case m.Success:t="var(--green)",r="white",o="SUCCESS";break;case m.Loading:t="var(--yellow)",r="black",o="LOADING",i=!1;break;case m.Failure:t="var(--red)",r="white",o="FAIL";break;case m.NoData:t="var(--yellow)",r="black",o="NO DATA";break;case m.NoStatus:t="#181e29",r="white",o="STATUS",i=!1;break;default:t="#181e29",r="white",o="UNKNOWN"}n.style.backgroundColor=t,n.style.color=r,n.innerText=o,i&&setTimeout((()=>{b(m.NoStatus,n)}),1e4)}c()(u(),{insert:"head",singleton:!1}),u().locals,function(e){e[e.Success=0]="Success",e[e.Loading=1]="Loading",e[e.Failure=2]="Failure",e[e.NoData=3]="NoData",e[e.NoStatus=4]="NoStatus"}(m||(m={})),function(e){e.RESOLVED="RESOLVED",e.ACTIVE="ACTIVE",e.CANCELED="CANCELED",e.LOCKED="LOCKED"}(E||(E={}));const f=nodecg.Replicant("predictionStore"),v=document.getElementById("prediction-data-status"),h=document.getElementById("option-wrapper-a"),w=document.getElementById("option-wrapper-b"),y=document.getElementById("get-prediction-status"),x=document.getElementById("prediction-point-count"),C=document.getElementById("prediction-title"),L=document.getElementById("no-prediction-message"),k=document.getElementById("unsupported-service-message"),N=document.getElementById("current-prediction-space"),O=document.getElementById("prediction-get-space"),T=document.getElementById("create-prediction-btn"),D=document.getElementById("resolve-prediction-btn"),I=document.getElementById("lock-prediction-btn"),S=document.getElementById("cancel-prediction-btn"),B=document.getElementById("get-predictions-btn"),A=document.getElementById("prediction-request-status"),F=[I,S,D,T,A],P={[E.ACTIVE]:[I,S,A],[E.LOCKED]:[D,S,A],[E.RESOLVED]:[T],[E.CANCELED]:[T]};function q(e,n,t,r){const o=e.querySelector(".option-data-wrapper"),i=o.querySelector(".option-title"),a=o.querySelector(".percent"),c=o.querySelector(".bar"),d=e.querySelector("label"),s=Math.round(n.channel_points/t*100);i.innerText=n.title,a.innerText=isNaN(s)?"?%":`${s}%`,c.style.width=isNaN(s)?"0%":`${s}%`,e.dataset.outcomeId=n.id;const l=d.innerText.charAt(d.innerText.length-1);null!=r&&n.id===r?(d.innerText=`Winner - Option ${l}`,d.classList.add("winner"),o.classList.add("winner")):(d.innerText=`Option ${l}`,d.classList.remove("winner"),o.classList.remove("winner"))}f.on("change",(e=>{if(e.enablePrediction)if(p(k),g(O),e.currentPrediction){g(N),p(L);const t=e.currentPrediction,r=t.outcomes[0].channel_points+t.outcomes[1].channel_points;q(h,t.outcomes[0],r,t.winning_outcome_id),q(w,t.outcomes[1],r,t.winning_outcome_id),y.innerText=t.status.toLowerCase(),x.innerText=`${r} points predicted`,C.innerText=t.title;const o=P[t.status];(n=o,F.filter((e=>!n.includes(e)))).forEach((e=>p(e))),o.forEach((e=>g(e)))}else p(N),g(L);else g(k),p(N),p(O);var n})),B.onclick=()=>{b(m.Loading,v),nodecg.sendMessage("getPredictions",{},(e=>{if(e)return console.error(e),void b(m.Failure,v);b(m.Success,v)}))};const M=document.getElementById("prediction-request-status");document.getElementById("cancel-prediction-btn").addEventListener("confirm",(()=>{f.value.currentPrediction&&![E.RESOLVED,E.CANCELED].includes(f.value.currentPrediction.status)?(b(m.Loading,M),nodecg.sendMessage("patchPrediction",{id:f.value.currentPrediction.id,status:"CANCELED"},(e=>{if(e)return console.error(e),void b(m.Failure,M);b(m.Success,M)}))):nodecg.log.info("Cannot cancel prediction at this time.")}));const _=document.getElementById("prediction-request-status");document.getElementById("lock-prediction-btn").addEventListener("confirm",(()=>{f.value.currentPrediction&&![E.LOCKED,E.CANCELED,E.RESOLVED].includes(f.value.currentPrediction.status)?(b(m.Loading,_),nodecg.sendMessage("patchPrediction",{id:f.value.currentPrediction.id,status:"LOCKED"},(e=>{if(e)return console.error(e),void b(m.Failure,_);b(m.Success,_)}))):nodecg.log.info("Cannot lock prediction at this time.")})),r.vI.add(o.eH,i.sq),r.vz.watch()},75:(e,n,t)=>{var r=t(452)((function(e){return e[1]}));r.push([e.id,".option-wrapper > label {\n    transition-duration: 250ms;\n}\n\n.option-data-wrapper {\n    background-color: #2F3A4F;\n    padding: 6px;\n    transition-duration: 250ms;\n    border-radius: 5px;\n}\n\n.option-data-wrapper.winner {\n    background-color: var(--yellow-a-10);\n    border: 2px solid var(--yellow);\n}\n\n.option-wrapper > label.winner,\n.option-data-wrapper.winner > .option-title,\n.option-data-wrapper.winner > .option-percent {\n    color: var(--yellow);\n}\n\n.option-data-wrapper > .option-title {\n    margin-bottom: 3px;\n    word-break: break-word;\n}\n\n.option-percent {\n    max-width: 100%;\n    border-radius: 2px;\n    padding: 2px 0;\n    margin: 0 2px;\n    background-color: rgba(0, 0, 0, 0.1);\n}\n\n.option-percent > .bar-wrapper > .bar {\n    width: 50%;\n    height: 8px;\n    border-radius: 2px;\n    min-width: 2%;\n}\n\n.option-percent > .bar-wrapper {\n    position: relative;\n    flex: 1;\n    margin: 0 5px;\n}\n\n.bar.blue {\n    background-color: #387AFF;\n}\n\n.bar.pink {\n    background-color: #F5009B;\n}\n\n.option-percent > .percent {\n    min-width: 45px;\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.15);\n    padding: 2px 4px;\n    border-radius: 2px;\n}\n\n#get-prediction-status {\n    text-transform: capitalize;\n}\n",""]),e.exports=r},208:(e,n,t)=>{var r=t(452)((function(e){return e[1]}));r.push([e.id,"div.status-display {\n    background-color: #181e29;\n    display: block;\n    text-align: center;\n    margin: 5px 2px 2px;\n    border-radius: 2px;\n    padding: 5px 0;\n    overflow-wrap: anywhere;\n}\n",""]),e.exports=r}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,e=[],r.O=(n,t,o,i)=>{if(!t){var a=1/0;for(s=0;s<e.length;s++){for(var[t,o,i]=e[s],c=!0,d=0;d<t.length;d++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](t[d])))?t.splice(d--,1):(c=!1,i<a&&(a=i));c&&(e.splice(s--,1),n=o())}return n}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[t,o,i]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={52:0};r.O.j=n=>0===e[n];var n=(n,t)=>{var o,i,[a,c,d]=t,s=0;for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(d)var l=d(r);for(n&&n(t);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[a[s]]=0;return r.O(l)},t=self.webpackChunk=self.webpackChunk||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var o=r.O(void 0,[576],(()=>r(707)));o=r.O(o)})();