(()=>{var e,t={877:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"exclamation-triangle",icon:[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]},t.eH=t.DF},864:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"info-circle",icon:[512,512,[],"f05a","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"]},t.sq=t.DF},339:()=>{class e extends HTMLElement{constructor(){super();const t=document.createElement("template");t.innerHTML='\n            <div class="select-wrapper" id="select-wrapper">\n                <slot></slot>\n            </div>',this.selectedOptions=[],this.select=this.getInnerSelect(),this.selectedElemDisplay=this.createElemDisplay();const n=this.attachShadow({mode:"open"});n.appendChild(e.createStyle()),n.appendChild(t.content.cloneNode(!0)),n.getElementById("select-wrapper").appendChild(this.selectedElemDisplay),new MutationObserver((()=>{const e=Array.from(this.select.options).map((e=>e.value));this.selectedOptions=this.selectedOptions.filter((t=>e.includes(t.value))),this.updateElemDisplay(),this.select.selectedIndex=-1})).observe(this.select,{childList:!0})}createElemDisplay(){const e=document.createElement("div");return e.classList.add("elem-display"),e.addEventListener("click",(e=>{e.target.classList.contains("option")&&(this.selectedOptions=this.selectedOptions.filter((t=>{const n=e.target;return t.innerText!==n.innerText&&t.value!==n.dataset.optionValue})),this.updateElemDisplay(),this.dispatchEvent(new Event("change")))})),e}getInnerSelect(){const e=this.querySelector("select");if(!e)throw new Error("No select given to multi-select!");return e.selectedIndex=-1,e.addEventListener("change",(t=>{const n=e.options[e.selectedIndex];this.selectedOptions.includes(n)||(this.selectedOptions.push(n),this.dispatchEvent(new Event("change"))),e.selectedIndex=-1,this.updateElemDisplay(),t.stopPropagation()})),e}updateElemDisplay(){this.selectedElemDisplay.innerHTML="",this.selectedOptions.forEach((e=>{const t=document.createElement("div");t.classList.add("option"),t.innerText=e.innerText,t.dataset.optionValue=e.value,this.selectedElemDisplay.appendChild(t)}))}static createStyle(){const e=document.createElement("style");return e.textContent="\n            ::slotted(select) {\n                opacity: 0;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                cursor: pointer;\n                z-index: 1;\n            }\n            \n            div.elem-display {\n                border-bottom: 1px solid #737373;\n                min-height: 26px;\n                display: flex;\n                flex-wrap: wrap;\n                position: relative;\n                z-index: 2;\n                pointer-events: none;\n                padding-bottom: 16px;\n                background-image: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/></svg>\");\n                background-size: 16px 12px;\n                background-repeat: no-repeat;\n                background-position: right 3px bottom 5px;\n            }\n            \n            div.elem-display > .option {\n                background-color: #2F3A4F;\n                border-radius: 8px;\n                font-size: 14px;\n                padding: 2px 19px 2px 4px;\n                margin: 2px;\n                pointer-events: auto;\n                background-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\">\x3c!-- Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill=\"%23728EC2\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"/></svg>');\n                background-size: 14px 14px;\n                background-repeat: no-repeat;\n                background-position: right 3px center;\n                transition-duration: 100ms;\n            }\n            \n            div.elem-display > .option:hover {\n                background-color: #3C4B66;\n            }\n            \n            div.select-wrapper {\n                position: relative;\n                cursor: pointer;\n            }",e}}customElements.define("multi-select",e)},73:(e,t,n)=>{"use strict";var a=n(417),s=n(877),o=n(864),i=(n(339),n(283),n(62)),r=n.n(i),l=n(208),c=n.n(l);function d(e){const t=document.getElementsByClassName(e);for(let e=0;e<t.length;e++)t[e].innerHTML=""}function u(e,t,n){const a=document.querySelectorAll(`.${t}`);Array.from(a).forEach((t=>{const a=document.createElement("option");a.value=""===n?e:n,a.text=e,t.appendChild(a)}))}function p(e,t=48){return e&&e.length>t?e.substring(0,t-"...".length)+"...":e}function m(e){e.style.display="none"}function h(e){e.style.removeProperty("display")}let g;function v(e,t){let n,a,s,o=!0;switch(e){case g.Success:n="var(--green)",a="white",s="SUCCESS";break;case g.Loading:n="var(--yellow)",a="black",s="LOADING",o=!1;break;case g.Failure:n="var(--red)",a="white",s="FAIL";break;case g.NoData:n="var(--yellow)",a="black",s="NO DATA";break;case g.NoStatus:n="#181e29",a="white",s="STATUS",o=!1;break;default:n="#181e29",a="white",s="UNKNOWN"}t.style.backgroundColor=n,t.style.color=a,t.innerText=s,o&&setTimeout((()=>{v(g.NoStatus,t)}),1e4)}r()(c(),{insert:"head",singleton:!1}),c().locals,function(e){e[e.Success=0]="Success",e[e.Loading=1]="Loading",e[e.Failure=2]="Failure",e[e.NoData=3]="NoData",e[e.NoStatus=4]="NoStatus"}(g||(g={}));const f=nodecg.Replicant("highlightedMatches"),x=nodecg.Replicant("tournamentData"),y=nodecg.Replicant("nextTeams"),b=document.getElementById("match-data-status"),w=document.getElementById("stage-selector"),E=document.getElementById("match-selector"),k=document.getElementById("set-next-match-btn"),L=document.getElementById("get-matches"),I=document.getElementById("unsupported-service-message"),O=document.getElementById("load-matches-hint"),C=document.getElementById("load-matches-space"),S=document.getElementById("select-match-space"),T=document.getElementById("team-a-name"),B=document.getElementById("team-b-name");function N(e){for(let t=0;t<f.value.length;t++){const n=f.value[t];if(n.meta.id===e)return n}}var D,A;function F(e){return["Battlefy"].includes(e)}L.onclick=()=>{v(g.Loading,b);const e=w.selectedOptions.map((e=>e.value));nodecg.sendMessage("getHighlightedMatches",{stages:e,getAllStages:e.includes("AllStages")},((e,t)=>{if(e)return console.error(e),void v(g.Failure,b);v(t.status,b)}))},w.addEventListener("change",(e=>{L.disabled=e.target.selectedOptions.length<1})),k.onclick=()=>{const e=N(E.value);e&&(y.value.teamAInfo=e.teamA,y.value.teamBInfo=e.teamB)},x.on("change",(e=>{if(d("stage-selector"),F(e.meta.source)){h(C),m(I);for(let t=0;t<e.meta.stages.length;t++){const n=e.meta.stages[t];["swiss","elimination","roundrobin"].includes(n.bracketType)&&u(p(n.name),"stage-selector",n.id)}u("All Brackets","stage-selector","AllStages")}else m(C),h(I),m(O)})),f.on("change",(e=>{if(d("match-selector"),!e||e.length<1)m(S),F(x.value.meta.source)&&h(O);else{m(O),h(S);const t=e.every((t=>t.meta.stageName===e[0].meta.stageName));e.forEach((function(e){u(p(t?e.meta.name:`${e.meta.name} | ${e.meta.stageName}`),"match-selector",e.meta.id)})),T.innerText=p(e[0].teamA.name),B.innerText=p(e[0].teamB.name)}})),E.oninput=function(){const e=N(E.value);e?(T.innerText=e.teamA.name,B.innerText=e.teamB.name,k.disabled=!1):(T.innerText="Unknown",B.innerText="Unknown",k.disabled=!0)},D=document.querySelectorAll(".next-match-update-warning"),A=k,D.forEach((e=>{if(!e.tagName)return;let t;if("input"===e.tagName.toLowerCase())t="input";else{if("select"!==e.tagName.toLowerCase())return;t="change"}e.addEventListener(t,(()=>{A.style.backgroundColor="var(--red)"}))})),A.addEventListener("click",(()=>{A.style.backgroundColor="var(--blue)"})),a.vI.add(s.eH,o.sq),a.vz.watch()},208:(e,t,n)=>{var a=n(452)((function(e){return e[1]}));a.push([e.id,"div.status-display {\n    background-color: #181e29;\n    display: block;\n    text-align: center;\n    margin: 5px 2px 2px;\n    border-radius: 2px;\n    padding: 5px 0;\n    overflow-wrap: anywhere;\n}\n",""]),e.exports=a}},n={};function a(e){var s=n[e];if(void 0!==s)return s.exports;var o=n[e]={id:e,exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,s,o)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,s,o]=e[c],r=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(r=!1,o<i&&(i=o));r&&(e.splice(c--,1),t=s())}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,s,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={472:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var s,o,[i,r,l]=n,c=0;for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var d=l(a);for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return a.O(d)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=a.O(void 0,[576],(()=>a(73)));s=a.O(s)})();